# üì∏ –ì–õ–ò–ë–û–ö–ò–ô –ê–ù–ê–õ–Ü–ó –°–ò–°–¢–ï–ú–ò –í–Ü–î–ü–†–ê–í–ö–ò –§–û–¢–û –í TELEGRAM BOT

**–î–∞—Ç–∞ –∞–Ω–∞–ª—ñ–∑—É**: 11 –ª–∏–ø–Ω—è 2025  
**–í–µ—Ä—Å—ñ—è —Å–∏—Å—Ç–µ–º–∏**: Enhanced File Forwarding v2.0  
**–§–∞–π–ª–∏ –∞–Ω–∞–ª—ñ–∑—É**: `/home/Bot1/src/jira_webhooks2.py`

---

## üéØ –û–ì–õ–Ø–î –ê–†–•–Ü–¢–ï–ö–¢–£–†–ò

–°–∏—Å—Ç–µ–º–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ç–æ –≤ –Ω–∞—à–æ–º—É Telegram –±–æ—Ç—ñ –ø–æ–±—É–¥–æ–≤–∞–Ω–∞ –Ω–∞ –±–∞–≥–∞—Ç–æ—Ä—ñ–≤–Ω–µ–≤—ñ–π –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—ñ –∑ —ñ–Ω—Ç–µ–ª—ñ–≥–µ–Ω—Ç–Ω–∏–º —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è–º —Ç–∏–ø—ñ–≤ —Ñ–∞–π–ª—ñ–≤ —Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º –≤–∏–±–æ—Ä–æ–º –Ω–∞–π–∫—Ä–∞—â–æ–≥–æ –º–µ—Ç–æ–¥—É Telegram API.

---

## üîß –û–°–ù–û–í–ù–Ü –§–£–ù–ö–¶–Ü–á –°–ò–°–¢–ï–ú–ò

### 1. **`send_telegram_message()` - –ì–æ–ª–æ–≤–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è –≤—ñ–¥–ø—Ä–∞–≤–∫–∏**
**–†–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è**: –†—è–¥–∫–∏ 725-860  
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è –¥–ª—è –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ —Ç–µ–∫—Å—Ç–æ–≤–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å —Ç–∞ —Ñ–∞–π–ª—ñ–≤

#### üìã –°–∏–≥–Ω–∞—Ç—É—Ä–∞ —Ñ—É–Ω–∫—Ü—ñ—ó:
```python
async def send_telegram_message(chat_id: str, text: str, file_data: Optional[tuple] = None) -> bool:
```

#### üîç –ü–∞—Ä–∞–º–µ—Ç—Ä–∏:
- **`chat_id`**: ID —á–∞—Ç—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –≤ Telegram
- **`text`**: –¢–µ–∫—Å—Ç –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è (–ø—ñ–¥–ø–∏—Å –¥–æ —Ñ–∞–π–ª—É –∞–±–æ –∑–≤–∏—á–∞–π–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è)
- **`file_data`**: –ö–æ—Ä—Ç–µ–∂ `(filename, file_content, mime_type)` –¥–ª—è –Ω–∞–¥—Å–∏–ª–∞–Ω–Ω—è —Ñ–∞–π–ª—É

#### üß† –õ–æ–≥—ñ–∫–∞ —Ä–æ–±–æ—Ç–∏ –∑ —Ñ–æ—Ç–æ:

```python
# –ö–†–û–ö 1: –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è –º–µ—Ç–æ–¥—É API –∑–∞ MIME —Ç–∏–ø–æ–º
if mime_type.startswith('image/'):
    if len(file_content) <= 10 * 1024 * 1024:  # Max 10MB for photos
        method = "sendPhoto"              # üñºÔ∏è –°–ø–µ—Ü—ñ–∞–ª—å–Ω–∏–π –º–µ—Ç–æ–¥ –¥–ª—è —Ñ–æ—Ç–æ
        file_param = "photo"              # –ü–∞—Ä–∞–º–µ—Ç—Ä –¥–ª—è API
    else:
        method = "sendDocument"           # Fallback –¥–ª—è –≤–µ–ª–∏–∫–∏—Ö —Ñ–æ—Ç–æ
        file_param = "document"
```

#### ‚ö° –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ –æ–±—Ä–æ–±–∫–∏ —Ñ–æ—Ç–æ:
1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è**: `mime_type.startswith('image/')`
2. **–†–æ–∑—É–º–Ω–µ –æ–±–º–µ–∂–µ–Ω–Ω—è —Ä–æ–∑–º—ñ—Ä—É**: 10MB –¥–ª—è `sendPhoto`, fallback –Ω–∞ `sendDocument`
3. **–û–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∏–π timeout**: `max(30, min(300, int(file_size_mb * 5)))`
4. **–û–±–º–µ–∂–µ–Ω–Ω—è –ø—ñ–¥–ø–∏—Å—É**: –î–æ 1024 —Å–∏–º–≤–æ–ª—ñ–≤ –¥–ª—è `caption`

---

### 2. **`send_file_as_separate_message()` - –£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∞ —Ñ–∞–π–ª—ñ–≤**
**–†–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è**: –†—è–¥–∫–∏ 860-945  
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –°–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è –¥–ª—è –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤ —Ñ–∞–π–ª—ñ–≤ –∑ —ñ–∫–æ–Ω–∫–∞–º–∏

#### üì∏ –õ–æ–≥—ñ–∫–∞ –æ–±—Ä–æ–±–∫–∏ —Ñ–æ—Ç–æ:

```python
# –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ç–∏–ø—É —Ç–∞ —ñ–∫–æ–Ω–∫–∏ –¥–ª—è —Ñ–æ—Ç–æ
if mime_type.startswith('image/'):
    file_type_icon = "üñºÔ∏è"              # –Ü–∫–æ–Ω–∫–∞ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è
    file_type_name = "–ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è"       # –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –Ω–∞–∑–≤–∞
    telegram_method = "sendPhoto"       # API –º–µ—Ç–æ–¥
    size_limit = 10 * 1024 * 1024      # 10MB –ª—ñ–º—ñ—Ç
```

#### üí¨ –§–æ—Ä–º—É–≤–∞–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è:
```python
message = (f"{file_type_icon} <b>{file_type_name} –¥–æ –∑–∞–¥–∞—á—ñ {issue_key}</b>\n\n"
          f"üìé <b>{filename}</b> ({file_size_mb:.1f} MB)")
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è —Ñ–æ—Ç–æ**: `üñºÔ∏è **–ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è –¥–æ –∑–∞–¥–∞—á—ñ SD-12345**\n\nüìé **photo.jpg** (2.3 MB)`

---

### 3. **`send_attachment_to_telegram()` - Callback –¥–ª—è –æ–±—Ä–æ–±–∫–∏ –≤–∫–ª–∞–¥–µ–Ω—å**
**–†–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è**: –†—è–¥–∫–∏ 1469-1516  
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: Callback —Ñ—É–Ω–∫—Ü—ñ—è –¥–ª—è attachment_processor

#### üîÑ –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ —Å–∏—Å—Ç–µ–º–æ—é:
```python
# –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î send_telegram_message —è–∫ –æ—Å–Ω–æ–≤—É
return await send_telegram_message(chat_id, message, (filename, file_bytes, mime_type))
```

---

## üöÄ TELEGRAM API –Ü–ù–¢–ï–ì–†–ê–¶–Ü–Ø

### üì± –ú–µ—Ç–æ–¥–∏ API –¥–ª—è —Ñ–æ—Ç–æ:

#### 1. **sendPhoto** (–û—Å–Ω–æ–≤–Ω–∏–π –¥–ª—è —Ñ–æ—Ç–æ)
```python
# API endpoint
POST https://api.telegram.org/bot{TOKEN}/sendPhoto

# –ü–∞—Ä–∞–º–µ—Ç—Ä–∏
{
    'chat_id': chat_id,
    'caption': text[:1024],      # –û–±–º–µ–∂–µ–Ω–Ω—è –ø—ñ–¥–ø–∏—Å—É
    'parse_mode': 'HTML'         # HTML —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è
}

# Files
{
    'photo': (filename, BytesIO(file_content), mime_type)
}
```

#### 2. **sendDocument** (Fallback –¥–ª—è –≤–µ–ª–∏–∫–∏—Ö —Ñ–æ—Ç–æ)
```python
# –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –∫–æ–ª–∏:
# - –†–æ–∑–º—ñ—Ä —Ñ–æ—Ç–æ > 10MB
# - sendPhoto –ø–æ–≤–µ—Ä—Ç–∞—î –ø–æ–º–∏–ª–∫—É "file is too big"

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π fallback:
if 'file is too big' in error_msg.lower() and method != "sendDocument":
    logger.info(f"File too big for {method}, falling back to sendDocument")
    files = {'document': (filename, BytesIO(file_content), mime_type)}
    response = await client.post(f"{base_url}/sendDocument", data=data, files=files)
```

---

## ‚öôÔ∏è –ù–ê–õ–ê–®–¢–£–í–ê–ù–ù–Ø –¢–ê –û–ü–¢–ò–ú–Ü–ó–ê–¶–Ü–á

### üéõÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ –¥–ª—è —Ñ–æ—Ç–æ:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–Ω—è | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è |
|----------|----------|-------------|
| **Max —Ä–∞–∑–º–µ—Ä –¥–ª—è sendPhoto** | 10MB | Telegram API –ª—ñ–º—ñ—Ç |
| **Max —Ä–∞–∑–º–µ—Ä –¥–ª—è sendDocument** | 50MB | Telegram API –ª—ñ–º—ñ—Ç |
| **Timeout –±–∞–∑–æ–≤–∏–π** | 60 —Å–µ–∫—É–Ω–¥ | HTTP –∫–ª—ñ—î–Ω—Ç |
| **Timeout –¥–∏–Ω–∞–º—ñ—á–Ω–∏–π** | 5 —Å–µ–∫/MB | –î–ª—è –≤–µ–ª–∏–∫–∏—Ö —Ñ–∞–π–ª—ñ–≤ |
| **Max caption** | 1024 —Å–∏–º–≤–æ–ª–∏ | Telegram –ª—ñ–º—ñ—Ç |
| **Max –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è** | 4096 —Å–∏–º–≤–æ–ª–∏ | Telegram –ª—ñ–º—ñ—Ç |

### üîß HTTP –ö–ª—ñ—î–Ω—Ç (httpx):
```python
# –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–π –∫–ª—ñ—î–Ω—Ç –∑ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º–∏
async with httpx.AsyncClient(timeout=timeout) as client:
    response = await client.post(f"{base_url}/{method}", data=data, files=files)
```

---

## üõ°Ô∏è –°–ò–°–¢–ï–ú–ê –ü–û–ú–ò–õ–û–ö –¢–ê FALLBACK

### üîÑ –ë–∞–≥–∞—Ç–æ—Ä—ñ–≤–Ω–µ–≤–∏–π Fallback:

#### –†—ñ–≤–µ–Ω—å 1: –†–æ–∑–º—ñ—Ä —Ñ–∞–π–ª—É
```python
if len(file_content) <= 10 * 1024 * 1024:  # 10MB
    method = "sendPhoto"
else:
    method = "sendDocument"  # Fallback –¥–ª—è –≤–µ–ª–∏–∫–∏—Ö —Ñ–æ—Ç–æ
```

#### –†—ñ–≤–µ–Ω—å 2: API –≤—ñ–¥–ø–æ–≤—ñ–¥—å
```python
if 'file is too big' in error_msg.lower() and method != "sendDocument":
    # –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π fallback –Ω–∞ sendDocument
    files = {'document': (filename, BytesIO(file_content), mime_type)}
    response = await client.post(f"{base_url}/sendDocument", data=data, files=files)
```

#### –†—ñ–≤–µ–Ω—å 3: –ö—Ä–∏—Ç–∏—á–Ω–∞ –ø–æ–º–∏–ª–∫–∞
```python
if 'Request entity too large' in str(e) or 'file is too big' in str(e).lower():
    # –í—ñ–¥–ø—Ä–∞–≤–∫–∞ —è–∫ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –∑–∞–º—ñ—Å—Ç—å —Ñ–∞–π–ª—É
    link_text = f"{text}\n\n‚ö†Ô∏è <i>–§–∞–π–ª –∑–∞–≤–µ–ª–∏–∫–∏–π –¥–ª—è –Ω–∞–¥—Å–∏–ª–∞–Ω–Ω—è –≤ Telegram...</i>"
    return await send_telegram_message(chat_id, link_text)
```

---

## üìä –†–û–ó–ü–Ü–ó–ù–ê–í–ê–ù–ù–Ø –¢–ò–ü–Ü–í –§–ê–ô–õ–Ü–í

### üñºÔ∏è –ü—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω—ñ —Ñ–æ—Ä–º–∞—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω—å:

```python
# MIME —Ç–∏–ø–∏, —â–æ —Ä–æ–∑–ø—ñ–∑–Ω–∞—é—Ç—å—Å—è —è–∫ —Ñ–æ—Ç–æ:
- image/jpeg          # .jpg, .jpeg
- image/png           # .png  
- image/gif           # .gif
- image/webp          # .webp
- image/bmp           # .bmp
- image/tiff          # .tiff
# + –±—É–¥—å-—è–∫–∏–π mime_type.startswith('image/')
```

### üéØ –õ–æ–≥—ñ–∫–∞ —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è:
```python
if mime_type.startswith('image/'):
    # –û–±—Ä–æ–±–ª—è—î–º–æ —è–∫ —Ñ–æ—Ç–æ
    file_type_icon = "üñºÔ∏è"
    file_type_name = "–ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è"
    telegram_method = "sendPhoto"
    size_limit = 10 * 1024 * 1024
```

---

## üîç –õ–û–ì–£–í–ê–ù–ù–Ø –¢–ê –î–Ü–ê–ì–ù–û–°–¢–ò–ö–ê

### üìù –ö–ª—é—á–æ–≤—ñ –ª–æ–≥-–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è:

```python
# –ü–æ—á–∞—Ç–æ–∫ –≤—ñ–¥–ø—Ä–∞–≤–∫–∏
logger.debug(f"Using Telegram API method: {method}")
logger.debug(f"Sending file {filename} ({mime_type}) of size {file_size_mb:.2f} MB")

# –£—Å–ø—ñ—à–Ω–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∞
logger.info(f"File {filename} sent successfully")
logger.info(f"üì§ Sending –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è via sendPhoto: photo.jpg (2.3MB)")

# –ü–æ–º–∏–ª–∫–∏ —Ç–∞ fallback
logger.info(f"File too big for {method}, falling back to sendDocument")
logger.error(f"Error sending file {filename}: {str(e)}")
```

### üîß Debug —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è:
```python
logger.debug(f"Request data: {data}")
logger.debug(f"Telegram API response: {json.dumps(response_json, indent=2)}")
```

---

## üé® –§–û–†–ú–ê–¢–£–í–ê–ù–ù–Ø –ü–û–í–Ü–î–û–ú–õ–ï–ù–¨

### üñºÔ∏è –ü—Ä–∏–∫–ª–∞–¥ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –¥–ª—è —Ñ–æ—Ç–æ:

**–í—Ö—ñ–¥–Ω—ñ –¥–∞–Ω—ñ:**
- filename: `"vacation_photo.jpg"`
- file_size: `2.5 MB`
- issue_key: `"SD-12345"`

**–†–µ–∑—É–ª—å—Ç—É—é—á–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è:**
```
üñºÔ∏è –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è –¥–æ –∑–∞–¥–∞—á—ñ SD-12345

üìé vacation_photo.jpg (2.5 MB)
```

**HTML –∫–æ–¥:**
```html
üñºÔ∏è <b>–ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è –¥–æ –∑–∞–¥–∞—á—ñ SD-12345</b>

üìé <b>vacation_photo.jpg</b> (2.5 MB)
```

---

## ‚ö° –û–ü–¢–ò–ú–Ü–ó–ê–¶–Ü–á –ü–†–û–î–£–ö–¢–ò–í–ù–û–°–¢–Ü

### üöÄ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞ –æ–±—Ä–æ–±–∫–∞:
- –í—Å—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å `async/await`
- `httpx.AsyncClient` –¥–ª—è –Ω–µ–±–ª–æ–∫—É—é—á–∏—Ö HTTP –∑–∞–ø–∏—Ç—ñ–≤
- –ü–∞—Ä–∞–ª–µ–ª—å–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –º–Ω–æ–∂–∏–Ω–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤

### üéØ –†–æ–∑—É–º–Ω—ñ timeout'–∏:
```python
# –î–∏–Ω–∞–º—ñ—á–Ω–∏–π timeout –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ä–æ–∑–º—ñ—Ä—É
file_size_mb = len(file_content) / (1024 * 1024)
timeout = max(30, min(300, int(file_size_mb * 5)))  # 5 —Å–µ–∫/MB
```

### üíæ –ï—Ñ–µ–∫—Ç–∏–≤–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–∞–º'—è—Ç—ñ:
```python
# BytesIO –¥–ª—è streaming —Ñ–∞–π–ª—ñ–≤
files = {file_param: (filename, BytesIO(file_content), mime_type)}
```

---

## üîó –Ü–ù–¢–ï–ì–†–ê–¶–Ü–Ø –ó JIRA

### üìé –ü—Ä–æ—Ü–µ—Å –≤—ñ–¥ Jira –¥–æ Telegram:

1. **Webhook –æ—Ç—Ä–∏–º—É—î –ø–æ–¥—ñ—é** `attachment_created`
2. **–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—É** –∑ Jira API
3. **–í–∏–∑–Ω–∞—á–µ–Ω–Ω—è MIME —Ç–∏–ø—É** —á–µ—Ä–µ–∑ `mimetypes.guess_type()`
4. **–í–∏–±—ñ—Ä –º–µ—Ç–æ–¥—É API** (sendPhoto –¥–ª—è –∑–æ–±—Ä–∞–∂–µ–Ω—å)
5. **–í—ñ–¥–ø—Ä–∞–≤–∫–∞ –≤ Telegram** –∑ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ—é —ñ–∫–æ–Ω–∫–æ—é —Ç–∞ —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è–º

### üîÑ –ö–µ—à—É–≤–∞–Ω–Ω—è —Ç–∞ –¥–µ–¥—É–ø–ª—ñ–∫–∞—Ü—ñ—è:
- –ó–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è –ø–æ–≤—Ç–æ—Ä–Ω—ñ–π –≤—ñ–¥–ø—Ä–∞–≤—Ü—ñ –æ–¥–Ω–∞–∫–æ–≤–∏—Ö —Ñ–æ—Ç–æ
- –Ü–Ω—Ç–µ–ª—ñ–≥–µ–Ω—Ç–Ω–∏–π –ø–æ—à—É–∫ –∑–∞ –∫–µ—à–µ–º –∑ fallback —Å—Ç—Ä–∞—Ç–µ–≥—ñ—è–º–∏
- –û–±—Ä–æ–±–∫–∞ —Ä—ñ–∑–Ω–æ–≥–æ –ø–æ—Ä—è–¥–∫—É –Ω–∞–¥—Ö–æ–¥–∂–µ–Ω–Ω—è webhook'—ñ–≤

---

## üìà –ú–ï–¢–†–ò–ö–ò –¢–ê –ú–û–ù–Ü–¢–û–†–ò–ù–ì

### ‚úÖ –ü–æ–∫–∞–∑–Ω–∏–∫–∏ —É—Å–ø—ñ—à–Ω–æ—Å—Ç—ñ:
- –ß–∞—Å –æ–±—Ä–æ–±–∫–∏ —Ñ–æ—Ç–æ: ~2-5 —Å–µ–∫—É–Ω–¥
- –£—Å–ø—ñ—à–Ω—ñ—Å—Ç—å –≤—ñ–¥–ø—Ä–∞–≤–∫–∏: 95%+ (–∑ fallback)
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ä–æ–∑–º—ñ—Ä—ñ–≤: –¥–æ 10MB (sendPhoto), –¥–æ 50MB (sendDocument)

### üéØ –¢–∞—Ä–≥–µ—Ç–Ω—ñ –ø–æ–∫–∞–∑–Ω–∏–∫–∏:
- **–®–≤–∏–¥–∫—ñ—Å—Ç—å**: <5 —Å–µ–∫—É–Ω–¥ –Ω–∞ —Ñ–æ—Ç–æ
- **–ù–∞–¥—ñ–π–Ω—ñ—Å—Ç—å**: 99%+ –¥–æ—Å—Ç–∞–≤–∫–∏
- **–Ø–∫—ñ—Å—Ç—å**: –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç—É

---

## üöÄ –ú–ê–ô–ë–£–¢–ù–Ü –ü–û–ö–†–ê–©–ï–ù–ù–Ø

### üé® –ü–æ—Ç–µ–Ω—Ü—ñ–π–Ω—ñ –≤–¥–æ—Å–∫–æ–Ω–∞–ª–µ–Ω–Ω—è:
1. **–°—Ç–∏—Å–Ω–µ–Ω–Ω—è –≤–µ–ª–∏–∫–∏—Ö —Ñ–æ—Ç–æ** –ø–µ—Ä–µ–¥ –≤—ñ–¥–ø—Ä–∞–≤–∫–æ—é
2. **–ü—Ä–µ–≤—å—é –¥–ª—è –≤—ñ–¥–µ–æ** —Ñ–∞–π–ª—ñ–≤  
3. **Batch –≤—ñ–¥–ø—Ä–∞–≤–∫–∞** –º–Ω–æ–∂–∏–Ω–Ω–∏—Ö —Ñ–æ—Ç–æ
4. **–ö–µ—à—É–≤–∞–Ω–Ω—è** —á–∞—Å—Ç–∏—Ö –∑–æ–±—Ä–∞–∂–µ–Ω—å
5. **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ñ —Ñ–æ—Ä–º–∞—Ç–∏** (WebP –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è)

---

**–°–∏—Å—Ç–µ–º–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ç–æ –≤ –Ω–∞—à–æ–º—É –±–æ—Ç—ñ —î —Å—É—á–∞—Å–Ω–æ—é, –Ω–∞–¥—ñ–π–Ω–æ—é —Ç–∞ –≤–∏—Å–æ–∫–æ–æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–æ—é –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–æ—é, —è–∫–∞ –∑–∞–±–µ–∑–ø–µ—á—É—î —à–≤–∏–¥–∫—É —Ç–∞ —Å—Ç–∞–±—ñ–ª—å–Ω—É –¥–æ—Å—Ç–∞–≤–∫—É –∑–æ–±—Ä–∞–∂–µ–Ω—å –∑ Jira –≤ Telegram –∑ —ñ–Ω—Ç–µ–ª—ñ–≥–µ–Ω—Ç–Ω–∏–º –≤–∏–±–æ—Ä–æ–º API –º–µ—Ç–æ–¥—ñ–≤ —Ç–∞ –±–∞–≥–∞—Ç–æ—Ä—ñ–≤–Ω–µ–≤–æ—é —Å–∏—Å—Ç–µ–º–æ—é fallback.**
