# üö® –ö–†–ò–¢–ò–ß–ù–ï –í–ò–ü–†–ê–í–õ–ï–ù–ù–Ø: –°–ü–ê–ú –ü–ï–†–ï–°–ò–õ–ê–ù–ù–Ø –í–ö–õ–ê–î–ï–ù–¨

## ‚ùå –ü–†–û–ë–õ–ï–ú–ê

**–î–∞—Ç–∞ –≤–∏—è–≤–ª–µ–Ω–Ω—è:** 20 –ª–∏–ø–Ω—è 2025, 19:35  
**–°–µ—Ä–π–æ–∑–Ω—ñ—Å—Ç—å:** –ö–†–ò–¢–ò–ß–ù–ê  

### –û–ø–∏—Å –ø—Ä–æ–±–ª–µ–º–∏:
–ë–æ—Ç –±–µ–∑–∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ –ø–µ—Ä–µ—Å–∏–ª–∞–≤ –í–°–Ü –≤–∫–ª–∞–¥–µ–Ω–Ω—è –∑–∞–¥–∞—á—ñ (46 —Ñ–∞–π–ª—ñ–≤) –≤ Telegram –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É —Ç–µ–∫—Å—Ç–æ–≤–æ–º—É –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ –¥–æ –∑–∞–¥–∞—á—ñ SD-42699.

### –ü—Ä–∏—á–∏–Ω–∞:
–£ —Ñ–∞–π–ª—ñ `/home/Bot1/src/jira_webhooks2.py` –≤ —Ñ—É–Ω–∫—Ü—ñ—ó `handle_comment_created()` –±—É–≤ –ø—Ä–æ–±–ª–µ–º–Ω–∏–π –±–ª–æ–∫ –∫–æ–¥—É:

```python
# 5. Try to get ALL attachments from issue API as a fallback
if not attachments and issue_key:
    try:
        logger.info(f"üì° No attachments found in webhook, fetching from issue {issue_key} API")
        # ... API –∑–∞–ø–∏—Ç —â–æ –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞–≤ –í–°–Ü –≤–∫–ª–∞–¥–µ–Ω–Ω—è –∑–∞–¥–∞—á—ñ
        attachments.extend(api_attachments)  # ‚ùå –ü–†–û–ë–õ–ï–ú–ê –¢–£–¢!
```

–ö–æ–ª–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø–∏—Å–∞–≤ –∑–≤–∏—á–∞–π–Ω–∏–π —Ç–µ–∫—Å—Ç–æ–≤–∏–π –∫–æ–º–µ–Ω—Ç–∞—Ä (–±–µ–∑ –≤–∫–ª–∞–¥–µ–Ω—å), webhook –Ω–µ –º—ñ—Å—Ç–∏–≤ –≤–∫–ª–∞–¥–µ–Ω—å, —Ç–æ–º—É –±–æ—Ç —Ä–æ–±–∏–≤ API –∑–∞–ø–∏—Ç —ñ –æ—Ç—Ä–∏–º—É–≤–∞–≤ –í–°–Ü –≤–∫–ª–∞–¥–µ–Ω–Ω—è –∑–∞–¥–∞—á—ñ, –Ω–∞–º–∞–≥–∞—é—á–∏—Å—å —ó—Ö –ø–µ—Ä–µ—Å–ª–∞—Ç–∏.

## ‚úÖ –í–ò–ü–†–ê–í–õ–ï–ù–ù–Ø

**–ß–∞—Å –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:** 20 –ª–∏–ø–Ω—è 2025, 19:42  

### –ó–º—ñ–Ω–∏:
1. **–í–∏–¥–∞–ª–µ–Ω–æ –ø—Ä–æ–±–ª–µ–º–Ω–∏–π API fallback –±–ª–æ–∫**
2. **–î–æ–¥–∞–Ω–æ –ª–æ–≥—ñ–∫—É –ø—Ä–æ–ø—É—Å–∫—É –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤–∏—Ö –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤**

### –ù–æ–≤–∏–π –∫–æ–¥:
```python
# 5. –í–ê–ñ–õ–ò–í–û: –ù–ï –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î–º–æ –≤—Å—ñ –≤–∫–ª–∞–¥–µ–Ω–Ω—è –∑–∞–¥–∞—á—ñ —è–∫ fallback!
# –Ø–∫—â–æ –Ω–µ–º–∞—î –≤–∫–ª–∞–¥–µ–Ω—å —É –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ, –∑–Ω–∞—á–∏—Ç—å –∫–æ–º–µ–Ω—Ç–∞—Ä –ë–ï–ó –≤–∫–ª–∞–¥–µ–Ω—å
if not attachments and issue_key:
    logger.info(f"üì° No attachments found in webhook for comment - this is normal for text-only comments")
    logger.info(f"‚ùå SKIPPING API fallback to prevent sending ALL issue attachments")
    # –ù–ï —Ä–æ–±–∏–º–æ API –∑–∞–ø–∏—Ç - —Ü–µ –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ –ø–µ—Ä–µ—Å–∏–ª–∞–Ω–Ω—è –≤—Å—ñ—Ö –≤–∫–ª–∞–¥–µ–Ω—å –∑–∞–¥–∞—á—ñ!
```

## üìã –¢–ï–•–ù–Ü–ß–ù–Ü –î–ï–¢–ê–õ–Ü

### –õ–æ–≥ —Ñ–∞–π–ª–∏:
- **–ü—Ä–æ–±–ª–µ–º–Ω–∏–π –ø–µ—Ä—ñ–æ–¥:** `bot_001_20250720_193239.log` (—Ä—è–¥–∫–∏ 207-234)
- **–ü—ñ—Å–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:** `bot_001_20250720_194246.log`

### –î—ñ—ó –≤–∏–∫–æ–Ω–∞–Ω—ñ:
1. ‚úÖ –í–∏–¥–∞–ª–µ–Ω–æ –ø—Ä–æ–±–ª–µ–º–Ω–∏–π API fallback –∫–æ–¥
2. ‚úÖ –ü–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω–æ telegram-bot.service –≤ 19:42
3. ‚úÖ –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ –Ω–æ—Ä–º–∞–ª—å–Ω—É —Ä–æ–±–æ—Ç—É –±–æ—Ç–∞

### –õ–æ–≥—ñ–∫–∞ —Ä–æ–±–æ—Ç–∏ —Ç–µ–ø–µ—Ä:
- ‚úÖ **–ó –≤–∫–ª–∞–¥–µ–Ω–Ω—è–º–∏:** –Ø–∫—â–æ –∫–æ–º–µ–Ω—Ç–∞—Ä –º—ñ—Å—Ç–∏—Ç—å –≤–∫–ª–∞–¥–µ–Ω–Ω—è - –≤–æ–Ω–∏ –ø–µ—Ä–µ—Å–∏–ª–∞—é—Ç—å—Å—è
- ‚úÖ **–ë–µ–∑ –≤–∫–ª–∞–¥–µ–Ω—å:** –Ø–∫—â–æ –∫–æ–º–µ–Ω—Ç–∞—Ä —Ç–µ–∫—Å—Ç–æ–≤–∏–π - –Ω—ñ—á–æ–≥–æ –Ω–µ –ø–µ—Ä–µ—Å–∏–ª–∞—î—Ç—å—Å—è
- ‚ùå **–ë–ï–ó —Å–ø–∞–º—É:** –ë—ñ–ª—å—à–µ –Ω–µ–º–∞—î –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –≤—Å—ñ—Ö –≤–∫–ª–∞–¥–µ–Ω—å –∑–∞–¥–∞—á—ñ

## üéØ –†–ï–ó–£–õ–¨–¢–ê–¢

**–ö–†–ò–¢–ò–ß–ù–ê –ü–†–û–ë–õ–ï–ú–ê –í–ò–ü–†–ê–í–õ–ï–ù–ê**
- ‚ùå –°–ø–∞–º –ø—Ä–∏–ø–∏–Ω–µ–Ω–æ
- ‚úÖ –ë–æ—Ç –ø—Ä–∞—Ü—é—î –Ω–æ—Ä–º–∞–ª—å–Ω–æ
- ‚úÖ –¢–µ–∫—Å—Ç–æ–≤—ñ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ –Ω–µ –≤–∏–∫–ª–∏–∫–∞—é—Ç—å –ø–µ—Ä–µ—Å–∏–ª–∞–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤
- ‚úÖ –í–∫–ª–∞–¥–µ–Ω–Ω—è –ø–µ—Ä–µ—Å–∏–ª–∞—é—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –∫–æ–ª–∏ –¥—ñ–π—Å–Ω–æ –¥–æ–¥–∞–Ω—ñ –¥–æ –∫–æ–º–µ–Ω—Ç–∞—Ä—è

---
**–í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ:** 20.07.2025 19:42 UTC  
**–°—Ç–∞—Ç—É—Å:** –†–û–ó–í'–Ø–ó–ê–ù–û  
**–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è:** –ü–†–û–ô–î–ï–ù–û  
