# –ó–í–Ü–¢: –Ü–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü—ñ—è –ø–æ—Å–∏–ª–∞–Ω—å –Ω–∞ —Ñ–∞–π–ª–∏ –≤ –∫–æ–º–µ–Ω—Ç–∞—Ä—è—Ö Jira

**–î–∞—Ç–∞:** 28 —á–µ—Ä–≤–Ω—è 2025  
**–ß–∞—Å:** 23:51  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–ò–ö–û–ù–ê–ù–û

## üéØ –ü–†–û–ë–õ–ï–ú–ê

–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑–≤–µ—Ä–Ω—É–≤ —É–≤–∞–≥—É, —â–æ —Ñ–∞–π–ª–∏ –≤ –∫–æ–º–µ–Ω—Ç–∞—Ä—è—Ö Jira –Ω–∞–¥—Å–∏–ª–∞—é—Ç—å—Å—è —è–∫ –æ–∫—Ä–µ–º—ñ –ø—Ä–∏–∫—Ä—ñ–ø–ª–µ–Ω–Ω—è –±–µ–∑ –∑–≤'—è–∑–∫—É –∑ —Ç–µ–∫—Å—Ç–æ–º –∫–æ–º–µ–Ω—Ç–∞—Ä—è. –ü–æ—Ç—Ä—ñ–±–Ω–æ –±—É–ª–æ –∑–Ω–∞–π—Ç–∏ —Å–ø–æ—Å—ñ–± –¥–æ–¥–∞–≤–∞—Ç–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Ñ–∞–π–ª–∏ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –≤ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ.

## üîç –î–û–°–õ–Ü–î–ñ–ï–ù–ù–Ø

### –ó–Ω–∞–π–¥–µ–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏ –∑ Jira API v3:
- **Media API –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–µ** –¥–ª—è –ø—É–±–ª—ñ—á–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
- **ADF —Ñ–æ—Ä–º–∞—Ç** –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î –ø—Ä—è–º—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Ñ–∞–π–ª–∏ —á–µ—Ä–µ–∑ API
- –¶–µ **–≤—ñ–¥–æ–º–∞ –ø—Ä–æ–±–ª–µ–º–∞** —Å–ø—ñ–ª—å–Ω–æ—Ç–∏ Atlassian

### –†—ñ—à–µ–Ω–Ω—è –∑ Jira API v2:
–í–∏—è–≤–ª–µ–Ω–æ, —â–æ –≤ **Jira REST API v2** –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –¥–ª—è –ø–æ—Å–∏–ª–∞–Ω—å –Ω–∞ —Ñ–∞–π–ª–∏:
```
[^filename.ext]
```

## ‚úÖ –†–ï–ê–õ–Ü–ó–û–í–ê–ù–ï –†–Ü–®–ï–ù–ù–Ø

### 1. –°—Ç–≤–æ—Ä–µ–Ω–∞ –Ω–æ–≤–∞ —Ñ—É–Ω–∫—Ü—ñ—è `add_comment_with_file_reference_to_jira()`

**–§–∞–π–ª:** `/home/Bot1/src/services.py`

```python
async def add_comment_with_file_reference_to_jira(issue_key: str, comment: str, author_name: Optional[str] = None, 
                                                 filename: Optional[str] = None, file_content: Optional[bytes] = None) -> None:
    """
    –î–æ–¥–∞—î —Ñ–∞–π–ª –¥–æ –∑–∞–¥–∞—á—ñ —Ç–∞ —Å—Ç–≤–æ—Ä—é—î –∫–æ–º–µ–Ω—Ç–∞—Ä –∑ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º –Ω–∞ —Ü–µ–π —Ñ–∞–π–ª.
    –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î Jira v2 API —Å–∏–Ω—Ç–∞–∫—Å–∏—Å [^filename] –¥–ª—è –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Ñ–∞–π–ª.
    """
```

**–õ–æ–≥—ñ–∫–∞ —Ä–æ–±–æ—Ç–∏:**
1. –°–ø–æ—á–∞—Ç–∫—É –ø—Ä–∏–∫—Ä—ñ–ø–ª—é—î —Ñ–∞–π–ª –¥–æ –∑–∞–¥–∞—á—ñ
2. –ü–æ—Ç—ñ–º –¥–æ–¥–∞—î –∫–æ–º–µ–Ω—Ç–∞—Ä –∑ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º `[^filename]`
3. –í–∫–ª—é—á–∞—î –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∞–≤—Ç–æ—Ä–∞ –∫–æ–º–µ–Ω—Ç–∞—Ä—è

### 2. –û–Ω–æ–≤–ª–µ–Ω–∏–π `file_handler()`

**–§–∞–π–ª:** `/home/Bot1/src/handlers.py`

**–ó–º—ñ–Ω–∏:**
- –ó–∞–º—ñ–Ω–µ–Ω–æ –æ–∫—Ä–µ–º—ñ –≤–∏–∫–ª–∏–∫–∏ –Ω–∞ –æ–¥–Ω—É —Ñ—É–Ω–∫—Ü—ñ—é –∑ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º
- –û–Ω–æ–≤–ª–µ–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É –ø—Ä–æ "—Ñ–∞–π–ª –∑ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º"

## üîß –¢–ï–•–ù–Ü–ß–ù–Ü –î–ï–¢–ê–õ–Ü

### –ü—Ä–∏–∫–ª–∞–¥ —Å—Ç–≤–æ—Ä–µ–Ω–æ–≥–æ –∫–æ–º–µ–Ω—Ç–∞—Ä—è:
```
***–Ü–º'—è: –ú–∞—Ä—Ç–∏–Ω–µ–Ω–∫–æ –û–ª–µ–≥ –í—ñ–∫—Ç–æ—Ä–æ–≤–∏—á –¥–æ–¥–∞–≤ –∫–æ–º–µ–Ω—Ç–∞—Ä:***

–ü—Ä–∏–∫—Ä—ñ–ø–ª–µ–Ω–æ —Ñ–∞–π–ª

üìé –ü—Ä–∏–∫—Ä—ñ–ø–ª–µ–Ω–æ —Ñ–∞–π–ª: [^photo_2024-04-17_14-45-21.jpg]
```

### –ü–µ—Ä–µ–≤–∞–≥–∏ –Ω–æ–≤–æ–≥–æ –ø—ñ–¥—Ö–æ–¥—É:
- ‚úÖ –§–∞–π–ª —Ç–µ–ø–µ—Ä **–ø—Ä–∏–≤'—è–∑–∞–Ω–∏–π –¥–æ –∫–æ–º–µ–Ω—Ç–∞—Ä—è**
- ‚úÖ –ó–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è **–∑–∞–≥–æ–ª–æ–≤–æ–∫ –∞–≤—Ç–æ—Ä–∞**
- ‚úÖ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ **–∫–ª—ñ–∫–Ω—É—Ç–∏ –Ω–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è** –≤ Jira
- ‚úÖ –ë—ñ–ª—å—à **–ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–π –≤–∏–≥–ª—è–¥** –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤

## üß™ –¢–ï–°–¢–£–í–ê–ù–ù–Ø

### –ü–µ—Ä–µ–¥ –¥–µ–ø–ª–æ—î–º:
- ‚úÖ –ö–æ–¥ –±–µ–∑ –ø–æ–º–∏–ª–æ–∫ (pylance check –ø—Ä–æ–π–¥–µ–Ω–æ)
- ‚úÖ –ë–æ—Ç —É—Å–ø—ñ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω–∏–π
- ‚úÖ –õ–æ–≥–∏ –ø–æ–∫–∞–∑—É—é—Ç—å –Ω–æ—Ä–º–∞–ª—å–Ω—É —Ä–æ–±–æ—Ç—É

### –ü–æ—Ç—Ä—ñ–±–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏:
- üîÑ –ù–∞–¥—Å–∏–ª–∞–Ω–Ω—è —Ñ–∞–π–ª—É –∑ —Ç–µ–∫—Å—Ç–æ–º
- üîÑ –ù–∞–¥—Å–∏–ª–∞–Ω–Ω—è —Ñ–∞–π–ª—É –±–µ–∑ —Ç–µ–∫—Å—Ç—É
- üîÑ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –≤ Jira UI
- üîÑ –ê–Ω—Ç–∏–¥—É–±–ª—ñ–∫–∞—Ç–Ω–∞ –ª–æ–≥—ñ–∫–∞ (–º–∞—î –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ —è–∫ —Ä–∞–Ω—ñ—à–µ)

## üìÅ –§–ê–ô–õ–ò –ó –ó–ú–Ü–ù–ê–ú–ò

1. **`/home/Bot1/src/services.py`**
   - ‚ûï –î–æ–¥–∞–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è `add_comment_with_file_reference_to_jira()`

2. **`/home/Bot1/src/handlers.py`**
   - üîÑ –û–Ω–æ–≤–ª–µ–Ω–∏–π `file_handler()` –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –Ω–æ–≤–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó
   - üîÑ –û–Ω–æ–≤–ª–µ–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É

## üéØ –û–ß–Ü–ö–£–í–ê–ù–ò–ô –†–ï–ó–£–õ–¨–¢–ê–¢

–¢–µ–ø–µ—Ä –ø—Ä–∏ –Ω–∞–¥—Å–∏–ª–∞–Ω–Ω—ñ —Ñ–∞–π–ª—É –∑ Telegram:
1. –§–∞–π–ª –ø—Ä–∏–∫—Ä—ñ–ø–ª—é—î—Ç—å—Å—è –¥–æ –∑–∞–¥–∞—á—ñ
2. –°—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –∫–æ–º–µ–Ω—Ç–∞—Ä –∑ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º `[^filename]`
3. –í Jira –∫–æ–º–µ–Ω—Ç–∞—Ä –±—É–¥–µ –º—ñ—Å—Ç–∏—Ç–∏ –∫–ª—ñ–∫–∞–±–µ–ª—å–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Ñ–∞–π–ª
4. –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∞–≤—Ç–æ—Ä–∞ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è
5. –ê–Ω—Ç–∏–¥—É–±–ª—ñ–∫–∞—Ç–Ω–∞ –ª–æ–≥—ñ–∫–∞ –ø—Ä–æ–¥–æ–≤–∂—É—î –ø—Ä–∞—Ü—é–≤–∞—Ç–∏

## üìù –î–û–î–ê–¢–ö–û–í–Ü –ü–†–ò–ú–Ü–¢–ö–ò

- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è **Jira API v2 —Å–∏–Ω—Ç–∞–∫—Å–∏—Å** –¥–ª—è —Å—É–º—ñ—Å–Ω–æ—Å—Ç—ñ
- –§—É–Ω–∫—Ü—ñ—è **–∑–≤–æ—Ä–æ—Ç–Ω–æ —Å—É–º—ñ—Å–Ω–∞** –∑ —ñ—Å–Ω—É—é—á–∏–º –∫–æ–¥–æ–º
- –ú–æ–∂–Ω–∞ –ª–µ–≥–∫–æ **–ø–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ —Å—Ç–∞—Ä–æ—ó –ª–æ–≥—ñ–∫–∏** —è–∫—â–æ —â–æ—Å—å –Ω–µ –ø—Ä–∞—Ü—é—î

---
**–ê–≤—Ç–æ—Ä:** GitHub Copilot  
**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** ~30 –º–∏–Ω—É—Ç –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è + 15 –º–∏–Ω—É—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
