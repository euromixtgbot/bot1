# üîß –ó–≤—ñ—Ç –ø—Ä–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è Python –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤

**–î–∞—Ç–∞:** 2025-09-09  
**–ß–∞—Å:** 09:00  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û  

## üéØ –ú–µ—Ç–∞
–û–Ω–æ–≤–ª–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤ `pyrightconfig.json` —Ç–∞ `pyproject.toml` –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ –Ω–æ–≤–æ—ó —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –ø—Ä–æ–µ–∫—Ç—É –ø—ñ—Å–ª—è —Ä–µ–æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó –ø–∞–ø–æ–∫ —Ç–∞ –¥–æ–¥–∞–≤–∞–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏ –±–µ–∑–ø–µ—á–Ω–∏—Ö –±–µ–∫–∞–ø—ñ–≤.

## üìÅ –ù–æ–≤–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

### –í–∫–ª—é—á–µ–Ω—ñ –≤ –∞–Ω–∞–ª—ñ–∑ –ø–∞–ø–∫–∏:
- ‚úÖ **`src/`** - –æ—Å–Ω–æ–≤–Ω–∏–π –∫–æ–¥ Telegram –±–æ—Ç–∞
- ‚úÖ **`config/`** - –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω—ñ —Ñ–∞–π–ª–∏ —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
- ‚úÖ **`utils/`** - —É—Ç–∏–ª—ñ—Ç–∞—Ä–Ω—ñ –º–æ–¥—É–ª—ñ —Ç–∞ –¥–æ–ø–æ–º—ñ–∂–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó
- ‚úÖ **`Tests/`** - —Ç–µ—Å—Ç–æ–≤—ñ —Ñ–∞–π–ª–∏ (–≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ –∑ `tests` –Ω–∞ `Tests`)
- ‚úÖ **`scripts/`** - —Å–∫—Ä–∏–ø—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—ó —Ç–∞ –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è
- ‚úÖ **`monitoring/`** - —Å–∏—Å—Ç–µ–º–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É —Ç–∞ health checks
- ‚úÖ **`user_states/`** - —Å—Ç–∞–Ω–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ (JSON —Ñ–∞–π–ª–∏ + –≤–∞–ª—ñ–¥–∞—Ç–æ—Ä)

### –í–∏–∫–ª—é—á–µ–Ω—ñ –∑ –∞–Ω–∞–ª—ñ–∑—É –ø–∞–ø–∫–∏:
- ‚ùå **`logs/`** - —Ñ–∞–π–ª–∏ –ª–æ–≥—ñ–≤ (–Ω–µ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å type checking)
- ‚ùå **`venv/`** - –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ
- ‚ùå **`backups/`** - –∞—Ä—Ö—ñ–≤–∏ —Ä–µ–∑–µ—Ä–≤–Ω–∏—Ö –∫–æ–ø—ñ–π
- ‚ùå **`reports/`** - Markdown –∑–≤—ñ—Ç–∏ (–Ω–µ Python –∫–æ–¥)
- ‚ùå **`deployment/`** - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è
- ‚ùå **`.git/`** - Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
- ‚ùå **`.vscode/`** - –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è IDE

## üîß –ó–º—ñ–Ω–∏ –≤ pyrightconfig.json

### –û–Ω–æ–≤–ª–µ–Ω—ñ —Å–µ–∫—Ü—ñ—ó:

#### Include (–¥–æ–¥–∞–Ω–æ –Ω–æ–≤—ñ –ø–∞–ø–∫–∏):
```json
"include": [
    "src",
    "config", 
    "utils",
    "Tests",        // ‚Üê –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ –∑ "tests"
    "scripts",      // ‚Üê –î–û–î–ê–ù–û
    "monitoring",   // ‚Üê –î–û–î–ê–ù–û
    "user_states"   // ‚Üê –î–û–î–ê–ù–û (–¥–ª—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó JSON —Ç–∞ debugging)
]
```

#### Exclude (–æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–æ —Å–ø–∏—Å–æ–∫):
```json
"exclude": [
    "**/node_modules",
    "**/__pycache__",
    "**/*.pyc",
    "logs/**",         // ‚Üê –î–û–î–ê–ù–û
    "venv/**",         // ‚Üê –î–û–î–ê–ù–û
    "backups/**",      // ‚Üê –î–û–î–ê–ù–û
    ".git/**"          // ‚Üê –î–û–î–ê–ù–û
]
```

#### ExtraPaths (–¥–æ–¥–∞–Ω–æ –Ω–æ–≤—ñ —à–ª—è—Ö–∏):
```json
"extraPaths": [
    "./src",
    "./config",
    "./utils",
    "./scripts",      // ‚Üê –î–û–î–ê–ù–û
    "./monitoring",   // ‚Üê –î–û–î–ê–ù–û
    "./user_states"   // ‚Üê –î–û–î–ê–ù–û
]
```

## üîß –ó–º—ñ–Ω–∏ –≤ pyproject.toml

### –ó–Ω–∞—á–Ω–æ —Ä–æ–∑—à–∏—Ä–µ–Ω–æ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å:

#### 1. –û–Ω–æ–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü—ñ—è [tool.pyright]:
- –î–æ–¥–∞–Ω–æ –Ω–æ–≤—ñ –ø–∞–ø–∫–∏ –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É
- –†–æ–∑—à–∏—Ä–µ–Ω–æ —Å–ø–∏—Å–æ–∫ –≤–∏–∫–ª—é—á–µ–Ω—å
- –ü–æ–∫—Ä–∞—â–µ–Ω–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

#### 2. –î–æ–¥–∞–Ω–∞ —Å–µ–∫—Ü—ñ—è [project]:
```toml
[project]
name = "bot1"
version = "1.0.0"
description = "Telegram Bot with Jira Integration and Google Sheets support"
requires-python = ">=3.10"
```

#### 3. –î–æ–¥–∞–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:
```toml
dependencies = [
    "python-telegram-bot>=21.0",
    "jira>=3.4.0",
    "gspread>=5.9.0",
    "google-auth>=2.17.0",
    "pyyaml>=6.0",
    "python-dotenv>=1.0.0",
    "aiohttp>=3.8.0",
    "asyncio-mqtt>=0.11.0"
]
```

#### 4. Dev dependencies:
```toml
[project.optional-dependencies]
dev = [
    "pytest>=7.0.0",
    "pytest-asyncio>=0.21.0",
    "black>=23.0.0",
    "flake8>=6.0.0",
    "mypy>=1.0.0",
    "pre-commit>=3.0.0"
]
```

#### 5. –î–æ–¥–∞–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è:

##### Black (—Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä –∫–æ–¥—É):
```toml
[tool.black]
line-length = 88
target-version = ['py310', 'py311', 'py312']
extend-exclude = '''/(\.git|\.venv|venv|__pycache__|logs|user_states|backups)/'''
```

##### Pytest (—Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è):
```toml
[tool.pytest.ini_options]
testpaths = ["Tests"]
python_files = ["test_*.py", "*_test.py"]
addopts = ["--verbose", "--tb=short", "--strict-markers"]
```

##### MyPy (type checking):
```toml
[tool.mypy]
python_version = "3.12"
files = ["src", "config", "utils", "Tests", "scripts", "monitoring", "user_states"]
exclude = ["venv", "logs", "backups", "reports", "deployment"]
```

#### 6. –î–æ–¥–∞–Ω–æ –≤–∞–ª—ñ–¥–∞—Ç–æ—Ä JSON —Ñ–∞–π–ª—ñ–≤:

##### user_states/validate_user_states.py:
- **–í–∞–ª—ñ–¥–∞—Ü—ñ—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏** JSON —Ñ–∞–π–ª—ñ–≤ —Å—Ç–∞–Ω—ñ–≤ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ç–∏–ø—ñ–≤ –¥–∞–Ω–∏—Ö** —Ç–∞ –æ–±–æ–≤'—è–∑–∫–æ–≤–∏—Ö –ø–æ–ª—ñ–≤
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤** (–∞–∫—Ç–∏–≤–Ω—ñ, –≤—ñ–¥–¥—ñ–ª–∏, —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è)
- **–î–µ—Ç–∞–ª—å–Ω—ñ –∑–≤—ñ—Ç–∏** –ø—Ä–æ –ø–æ–º–∏–ª–∫–∏ —Ç–∞ –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è

–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó:
```
‚úÖ –í—Å—ñ —Ñ–∞–π–ª–∏ –≤–∞–ª—ñ–¥–Ω—ñ! üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: 3/3 —Ñ–∞–π–ª—ñ–≤
üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤:
   –í—Å—å–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤: 3
   –ê–∫—Ç–∏–≤–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤: 3
   –í—ñ–¥–¥—ñ–ª–∏: –ü–æ–ª—Ç–∞–≤–∞, –ß–µ—Ä–∫–∞—Å–∏, –í—ñ–Ω–Ω–∏—Ü—è
   –î–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–∏: -, –Ü–¢ –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç
   –ó —É–≤—ñ–º–∫–Ω–µ–Ω–æ—é —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—î—é: 3
   –û—Å—Ç–∞–Ω–Ω—è –∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å: 2025-09-05T16:24:59.017423
```

## üìä –ü–µ—Ä–µ–≤–∞–≥–∏ –æ–Ω–æ–≤–ª–µ–Ω–∏—Ö –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π

### 1. –ü–æ–∫—Ä–∞—â–µ–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ –∫–æ–¥—É:
- ‚úÖ –û—Ö–æ–ø–ª—é—î –≤—Å—ñ Python –º–æ–¥—É–ª—ñ –ø—Ä–æ–µ–∫—Ç—É
- ‚úÖ –Ü–≥–Ω–æ—Ä—É—î –Ω–µ–ø–æ—Ç—Ä—ñ–±–Ω—ñ —Ñ–∞–π–ª–∏ —Ç–∞ –ø–∞–ø–∫–∏
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–æ–∑–≤'—è–∑—É—î —ñ–º–ø–æ—Ä—Ç–∏ –º—ñ–∂ –º–æ–¥—É–ª—è–º–∏

### 2. –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–æ–≤–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:
- ‚úÖ –í—ñ–¥–ø–æ–≤—ñ–¥–∞—î PEP 518 (pyproject.toml —Å—Ç–∞–Ω–¥–∞—Ä—Ç)
- ‚úÖ –í–∫–ª—é—á–∞—î –º–µ—Ç–∞–¥–∞–Ω—ñ –ø—Ä–æ–µ–∫—Ç—É
- ‚úÖ –í–∏–∑–Ω–∞—á–∞—î –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ —è–≤–Ω–æ

### 3. –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ —Ä–æ–∑—Ä–æ–±–∫–∏:
- ‚úÖ **Black** –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è
- ‚úÖ **Pytest** –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
- ‚úÖ **MyPy** –¥–ª—è –¥–æ–¥–∞—Ç–∫–æ–≤–æ—ó –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Ç–∏–ø—ñ–≤
- ‚úÖ **Pre-commit** –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—é —è–∫–æ—Å—Ç—ñ

### 4. Dev experience:
- ‚úÖ –ö—Ä–∞—â—ñ –ø—ñ–¥–∫–∞–∑–∫–∏ —É VS Code
- ‚úÖ –®–≤–∏–¥—à–∏–π –∞–Ω–∞–ª—ñ–∑ (–≤–∏–∫–ª—é—á–µ–Ω—ñ –Ω–µ–ø–æ—Ç—Ä—ñ–±–Ω—ñ –ø–∞–ø–∫–∏)
- ‚úÖ –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∏–π –∫–æ–¥ style
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω—ñ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏
- ‚úÖ **–í–∞–ª—ñ–¥–∞—Ü—ñ—è JSON —Ñ–∞–π–ª—ñ–≤** —Å—Ç–∞–Ω—ñ–≤ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- ‚úÖ **Debugging –ø—ñ–¥—Ç—Ä–∏–º–∫–∞** –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É –ø–æ–º–∏–ª–æ–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

## üîç –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –æ–Ω–æ–≤–ª–µ–Ω—å

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó Pyright:
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å
pyright --verifytypes bot1

# –ê–Ω–∞–ª—ñ–∑ –æ—Å–Ω–æ–≤–Ω–∏—Ö –º–æ–¥—É–ª—ñ–≤
pyright src/main.py
pyright config/config.py
pyright utils/
```

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π:
```bash
# –í–∞–ª—ñ–¥–∞—Ü—ñ—è pyproject.toml
pip install build
python -m build --check

# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è dev –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
pip install -e ".[dev]"
```

### –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è:
```bash
# Black —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è
black --check src/ config/ utils/

# MyPy –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞
mypy src/ config/ utils/

# Pytest –∑–∞–ø—É—Å–∫
pytest Tests/

# –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Å—Ç–∞–Ω—ñ–≤ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
python user_states/validate_user_states.py
```

## üöÄ –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

### –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ –¥—ñ—ó:
1. **–í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ dev –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:**
   ```bash
   pip install -e ".[dev]"
   ```

2. **–ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ pre-commit:**
   ```bash
   pre-commit install
   ```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è:**
   ```bash
   black src/ config/ utils/ scripts/ monitoring/
   ```

4. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ç–∏–ø–∏:**
   ```bash
   mypy src/ config/ utils/
   pyright
   ```

### –ú–æ–∂–ª–∏–≤—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è:
- –î–æ–¥–∞–Ω–Ω—è GitHub Actions workflows
- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏—Ö —Ç–µ—Å—Ç—ñ–≤
- –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ codecov –¥–ª—è –ø–æ–∫—Ä–∏—Ç—Ç—è —Ç–µ—Å—Ç—ñ–≤
- –î–æ–¥–∞–Ω–Ω—è linting –ø—Ä–∞–≤–∏–ª (flake8, ruff)

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω—ñ —Ñ–∞–π–ª–∏ —Ç–µ–ø–µ—Ä:
- üéØ **–í—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å** –Ω–æ–≤—ñ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ñ –ø—Ä–æ–µ–∫—Ç—É
- üîß **–í–∫–ª—é—á–∞—é—Ç—å** –≤—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ Python –º–æ–¥—É–ª—ñ
- üö´ **–í–∏–∫–ª—é—á–∞—é—Ç—å** –Ω–µ–ø–æ—Ç—Ä—ñ–±–Ω—ñ —Ñ–∞–π–ª–∏ —Ç–∞ –ø–∞–ø–∫–∏
- üìö **–ú—ñ—Å—Ç—è—Ç—å** –ø–æ–≤–Ω—ñ –º–µ—Ç–∞–¥–∞–Ω—ñ –ø—Ä–æ–µ–∫—Ç—É
- üõ†Ô∏è **–Ü–Ω—Ç–µ–≥—Ä—É—é—Ç—å—Å—è** –∑ —Å—É—á–∞—Å–Ω–∏–º–∏ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ —Ä–æ–∑—Ä–æ–±–∫–∏

**–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤–∏–π –¥–ª—è –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–æ—ó —Ä–æ–∑—Ä–æ–±–∫–∏ –∑ –ø–æ–≤–Ω–∏–º toolchain!** üöÄ

---
**–ê–≤—Ç–æ—Ä:** GitHub Copilot  
**–ü—Ä–æ–µ–∫—Ç:** Bot1 Telegram Bot with Jira Integration  
**–†–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π:** euromixtgbot/bot1
