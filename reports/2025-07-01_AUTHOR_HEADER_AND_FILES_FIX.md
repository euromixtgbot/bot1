# üîß –ó–í–Ü–¢: –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –∑–∞–≥–æ–ª–æ–≤–∫—ñ–≤ –∞–≤—Ç–æ—Ä–∞ —Ç–∞ —Ñ–∞–π–ª—ñ–≤

**–î–∞—Ç–∞:** 1 –ª–∏–ø–Ω—è 2025  
**–ß–∞—Å:** 00:30 UTC  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–ò–†–Ü–®–ï–ù–û

## üìã –ü–†–û–ë–õ–ï–ú–ò –Ø–ö–Ü –ë–£–õ–ò –í–ò–Ø–í–õ–ï–ù–Ü

### 1. ‚ùå **–í—ñ–¥—Å—É—Ç–Ω—ñ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∞–≤—Ç–æ—Ä–∞ –≤ –∫–æ–º–µ–Ω—Ç–∞—Ä—è—Ö**
- –ü—Ä–∏ –¥–æ–¥–∞–≤–∞–Ω–Ω—ñ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤ –∑ Telegram –¥–æ Jira –Ω–µ –∑'—è–≤–ª—è–≤—Å—è –∑–∞–≥–æ–ª–æ–≤–æ–∫ `**–Ü–º'—è: [–ê–≤—Ç–æ—Ä] –¥–æ–¥–∞–≤ –∫–æ–º–µ–Ω—Ç–∞—Ä:**`
- –ê–Ω—Ç–∏–¥—É–±–ª—ñ–∫–∞—Ç–Ω–∞ –ª–æ–≥—ñ–∫–∞ –ø—Ä–∞—Ü—é–≤–∞–ª–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –∞–ª–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –Ω–µ –¥–æ–¥–∞–≤–∞–ª–∏—Å—è

### 2. ‚ùå **–§–∞–π–ª–∏ –Ω–µ –≤—ñ–¥–ø—Ä–∞–≤–ª—è–ª–∏—Å—è –∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏ –∞–≤—Ç–æ—Ä–∞**
- –ü—Ä–∏ –≤—ñ–¥–ø—Ä–∞–≤—Ü—ñ —Ñ–∞–π–ª—ñ–≤ –∑ Telegram –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∞–≤—Ç–æ—Ä–∞ –Ω–µ –¥–æ–¥–∞–≤–∞–≤—Å—è
- –ü–æ–º–∏–ª–∫–∞ "Invalid issue key or empty comment" –ø—Ä–∏ –ø–æ—Ä–æ–∂–Ω—ñ—Ö –∫–æ–º–µ–Ω—Ç–∞—Ä—è—Ö –¥–ª—è —Ñ–∞–π–ª—ñ–≤

## üîç –î–Ü–ê–ì–ù–û–°–¢–ò–ö–ê

### –ó–Ω–∞–π–¥–µ–Ω—ñ –ø—Ä–∏—á–∏–Ω–∏:
1. **–ü—Ä–æ–±–ª–µ–º–∞ –∑ file_handler**: –ø–µ—Ä–µ–¥–∞–≤–∞–≤—Å—è –ø–æ—Ä–æ–∂–Ω—ñ–π –∫–æ–º–µ–Ω—Ç–∞—Ä `file_comment = f""`
2. **–ü—Ä–æ–±–ª–µ–º–∞ –∑ –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é**: —Ñ—É–Ω–∫—Ü—ñ—è `add_comment_with_file_reference_to_jira` –Ω–µ –¥–æ–ø—É—Å–∫–∞–ª–∞ –ø–æ—Ä–æ–∂–Ω—ñ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ –Ω–∞–≤—ñ—Ç—å –¥–ª—è —Ñ–∞–π–ª—ñ–≤
3. **–õ–æ–≥—ñ–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫—ñ–≤**: –Ω–µ –ø—Ä–∞—Ü—é–≤–∞–ª–∞ –¥–ª—è —Ñ–∞–π–ª—ñ–≤ –±–µ–∑ —Ç–µ–∫—Å—Ç–æ–≤–∏—Ö –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤

## ‚úÖ –í–ò–ö–û–ù–ê–ù–Ü –í–ò–ü–†–ê–í–õ–ï–ù–ù–Ø

### 1. **–í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –≤ `add_comment_with_file_reference_to_jira`**

**–§–∞–π–ª:** `/home/Bot1/src/services.py` - —Ä—è–¥–∫–∏ 1026-1030

**–ë—É–ª–æ:**
```python
if not issue_key or not comment:
    raise ValueError("Invalid issue key or empty comment")
```

**–°—Ç–∞–ª–æ:**
```python
if not issue_key:
    raise ValueError("Invalid issue key")

# –î–æ–∑–≤–æ–ª—è—î–º–æ –ø–æ—Ä–æ–∂–Ω—ñ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ –¥–ª—è —Ñ–∞–π–ª—ñ–≤
if not comment and not filename:
    raise ValueError("Either comment or filename must be provided")
```

### 2. **–í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ª–æ–≥—ñ–∫–∏ –∑–∞–≥–æ–ª–æ–≤–∫—ñ–≤ –¥–ª—è —Ñ–∞–π–ª—ñ–≤**

**–§–∞–π–ª:** `/home/Bot1/src/services.py` - —Ä—è–¥–∫–∏ 1038-1045

**–°—Ç–∞–ª–æ:**
```python
# –§–æ—Ä–º—É—î–º–æ –∫–æ–º–µ–Ω—Ç–∞—Ä –∑ –∑–∞–≥–æ–ª–æ–≤–∫–æ–º –∞–≤—Ç–æ—Ä–∞ —Ç–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º –Ω–∞ —Ñ–∞–π–ª
if author_name:
    if comment and comment.strip():
        full_comment = f"**–Ü–º'—è: {author_name} –¥–æ–¥–∞–≤ –∫–æ–º–µ–Ω—Ç–∞—Ä:**\n\n{comment}"
    else:
        # –Ø–∫—â–æ –∫–æ–º–µ–Ω—Ç–∞—Ä –ø–æ—Ä–æ–∂–Ω—ñ–π, –∞–ª–µ —î —Ñ–∞–π–ª, –≤—Å–µ –æ–¥–Ω–æ –¥–æ–¥–∞—î–º–æ –∑–∞–≥–æ–ª–æ–≤–æ–∫
        full_comment = f"**–Ü–º'—è: {author_name} –¥–æ–¥–∞–≤ –∫–æ–º–µ–Ω—Ç–∞—Ä:**"
else:
    full_comment = comment if comment and comment.strip() else ""
```

### 3. **–ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ –ø–æ—Ä–æ–∂–Ω—ñ—Ö –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤**

**–§–∞–π–ª:** `/home/Bot1/src/services.py` - —Ä—è–¥–∫–∏ 1055-1060

**–î–æ–¥–∞–Ω–æ:**
```python
# –î–æ–¥–∞—î–º–æ –∫–æ–º–µ–Ω—Ç–∞—Ä –∑ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º –Ω–∞ —Ñ–∞–π–ª —á–µ—Ä–µ–∑ API v2 (–ø—ñ–¥—Ç—Ä–∏–º—É—î [^filename] —Å–∏–Ω—Ç–∞–∫—Å–∏—Å)
if full_comment.strip():  # –î–æ–¥–∞—î–º–æ –∫–æ–º–µ–Ω—Ç–∞—Ä —Ç—ñ–ª—å–∫–∏ —è–∫—â–æ —î –∫–æ–Ω—Ç–µ–Ω—Ç
    logger.info(f"–î–æ–¥–∞—î–º–æ –∫–æ–º–µ–Ω—Ç–∞—Ä –∑ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º –Ω–∞ —Ñ–∞–π–ª –¥–æ {issue_key} —á–µ—Ä–µ–∑ API v2")
    await add_comment_to_jira_v2(issue_key, full_comment, None)
    logger.info(f"–ö–æ–º–µ–Ω—Ç–∞—Ä –∑ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º –Ω–∞ —Ñ–∞–π–ª {filename} –¥–æ–¥–∞–Ω–æ –¥–æ {issue_key} —á–µ—Ä–µ–∑ API v2")
else:
    logger.warning(f"–ö–æ–º–µ–Ω—Ç–∞—Ä –ø–æ—Ä–æ–∂–Ω—ñ–π –¥–ª—è {issue_key}, –ø—Ä–æ–ø—É—Å–∫–∞—î–º–æ –¥–æ–¥–∞–≤–∞–Ω–Ω—è")
```

## üß™ –¢–ï–°–¢–£–í–ê–ù–ù–Ø

### ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó:

1. **–ö–æ–º–µ–Ω—Ç–∞—Ä –∑ –∞–≤—Ç–æ—Ä–æ–º:** ‚úÖ –ü—Ä–∞—Ü—é—î  
   - –†–µ–∑—É–ª—å—Ç–∞—Ç: `**–Ü–º'—è: –¢–µ—Å—Ç–æ–≤–∏–π –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –¥–æ–¥–∞–≤ –∫–æ–º–µ–Ω—Ç–∞—Ä:**\n\n–¢–µ–∫—Å—Ç –∫–æ–º–µ–Ω—Ç–∞—Ä—è`

2. **–ö–æ–º–µ–Ω—Ç–∞—Ä –±–µ–∑ –∞–≤—Ç–æ—Ä–∞:** ‚úÖ –ü—Ä–∞—Ü—é—î  
   - –†–µ–∑—É–ª—å—Ç–∞—Ç: –¢—ñ–ª—å–∫–∏ —Ç–µ–∫—Å—Ç –∫–æ–º–µ–Ω—Ç–∞—Ä—è –±–µ–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞

3. **–§–∞–π–ª –∑ –∞–≤—Ç–æ—Ä–æ–º (–±–µ–∑ –∫–æ–º–µ–Ω—Ç–∞—Ä—è):** ‚úÖ –ü—Ä–∞—Ü—é—î  
   - –†–µ–∑—É–ª—å—Ç–∞—Ç: `**–Ü–º'—è: –¢–µ—Å—Ç–æ–≤–∏–π –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –¥–æ–¥–∞–≤ –∫–æ–º–µ–Ω—Ç–∞—Ä:**\n\nüìé [^filename]`

4. **–§–∞–π–ª –∑ –∫–æ–º–µ–Ω—Ç–∞—Ä–µ–º —Ç–∞ –∞–≤—Ç–æ—Ä–æ–º:** ‚úÖ –ü—Ä–∞—Ü—é—î  
   - –†–µ–∑—É–ª—å—Ç–∞—Ç: `**–Ü–º'—è: –¢–µ—Å—Ç–æ–≤–∏–π –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –¥–æ–¥–∞–≤ –∫–æ–º–µ–Ω—Ç–∞—Ä:**\n\n–¢–µ–∫—Å—Ç –∫–æ–º–µ–Ω—Ç–∞—Ä—è\n\nüìé [^filename]`

## üéØ –†–ï–ó–£–õ–¨–¢–ê–¢

### –ù–æ–≤–∏–π —Ñ–æ—Ä–º–∞—Ç –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤ —É Jira:

#### –¢–µ–∫—Å—Ç–æ–≤–∏–π –∫–æ–º–µ–Ω—Ç–∞—Ä:
```
**–Ü–º'—è: –ú–∞—Ä—Ç–∏–Ω–µ–Ω–∫–æ –û–ª–µ–≥ –í—ñ–∫—Ç–æ—Ä–æ–≤–∏—á –¥–æ–¥–∞–≤ –∫–æ–º–µ–Ω—Ç–∞—Ä:**

–¢–µ–∫—Å—Ç –∫–æ–º–µ–Ω—Ç–∞—Ä—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
```

#### –§–∞–π–ª –±–µ–∑ —Ç–µ–∫—Å—Ç—É:
```
**–Ü–º'—è: –ú–∞—Ä—Ç–∏–Ω–µ–Ω–∫–æ –û–ª–µ–≥ –í—ñ–∫—Ç–æ—Ä–æ–≤–∏—á –¥–æ–¥–∞–≤ –∫–æ–º–µ–Ω—Ç–∞—Ä:**

üìé [^filename.jpg]
```

#### –§–∞–π–ª –∑ —Ç–µ–∫—Å—Ç–æ–º:
```
**–Ü–º'—è: –ú–∞—Ä—Ç–∏–Ω–µ–Ω–∫–æ –û–ª–µ–≥ –í—ñ–∫—Ç–æ—Ä–æ–≤–∏—á –¥–æ–¥–∞–≤ –∫–æ–º–µ–Ω—Ç–∞—Ä:**

–ü—ñ–¥–ø–∏—Å –¥–æ —Ñ–∞–π–ª—É

üìé [^filename.jpg]
```

## üöÄ –°–¢–ê–¢–£–° –ë–û–¢–ê

- ‚úÖ **–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω–∏–π:** PID 15144
- ‚úÖ **–õ–æ–≥–∏:** –ë–µ–∑ –ø–æ–º–∏–ª–æ–∫  
- ‚úÖ **Telegram polling:** –ê–∫—Ç–∏–≤–Ω–∏–π
- ‚úÖ **Jira webhook:** –ê–∫—Ç–∏–≤–Ω–∏–π –Ω–∞ 0.0.0.0:9443
- ‚úÖ **–ê–Ω—Ç–∏–¥—É–±–ª—ñ–∫–∞—Ç–Ω–∞ –ª–æ–≥—ñ–∫–∞:** –ü—Ä–∞—Ü—é—î (–ø—Ä–æ–ø—É—Å–∫–∞—î –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ –∑ –∑–∞–≥–æ–ª–æ–≤–∫–æ–º "–Ü–º'—è:")

## üìã –ü–ï–†–ï–í–Ü–†–ö–ê

### –î–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ Telegram:
1. –î–æ–¥–∞–π—Ç–µ –∫–æ–º–µ–Ω—Ç–∞—Ä –¥–æ –∞–∫—Ç–∏–≤–Ω–æ—ó –∑–∞–¥–∞—á—ñ ‚úÖ
2. –í—ñ–¥–ø—Ä–∞–≤—Ç–µ —Ñ–∞–π–ª –±–µ–∑ –ø—ñ–¥–ø–∏—Å—É ‚úÖ  
3. –í—ñ–¥–ø—Ä–∞–≤—Ç–µ —Ñ–∞–π–ª –∑ –ø—ñ–¥–ø–∏—Å–æ–º ‚úÖ
4. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤ Jira –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫—ñ–≤ `**–Ü–º'—è: [–ü–Ü–ë] –¥–æ–¥–∞–≤ –∫–æ–º–µ–Ω—Ç–∞—Ä:**` ‚úÖ

---

**–ê–≤—Ç–æ—Ä –∑–≤—ñ—Ç—É:** GitHub Copilot  
**–í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –∑–∞—Å—Ç–æ—Å–æ–≤–∞–Ω—ñ:** 01.07.2025, 00:30 UTC  
**–ì–æ—Ç–æ–≤–∏–π –¥–æ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** ‚úÖ –¢–ê–ö
