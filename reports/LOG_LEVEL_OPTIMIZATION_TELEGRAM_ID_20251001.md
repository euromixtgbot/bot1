# üìä Log Level Optimization: No Telegram ID Warnings

**–î–∞—Ç–∞:** 01 –∂–æ–≤—Ç–Ω—è 2025, 13:55 UTC  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û  
**–ß–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è:** 10 —Ö–≤–∏–ª–∏–Ω

---

## üìã –ó–∞–≤–¥–∞–Ω–Ω—è

–û–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏ –ª–æ–≥—É–≤–∞–Ω–Ω—è –¥–ª—è –∑–∞–¥–∞—á —Å—Ç–≤–æ—Ä–µ–Ω–∏—Ö –≤—Ä—É—á–Ω—É –≤ Jira (–±–µ–∑ Telegram ID) - –∑–º—ñ–Ω–∏—Ç–∏ —Ä—ñ–≤–µ–Ω—å –∑ WARNING –Ω–∞ INFO, –æ—Å–∫—ñ–ª—å–∫–∏ —Ü–µ –Ω–æ—Ä–º–∞–ª—å–Ω–∞ –æ—á—ñ–∫—É–≤–∞–Ω–∞ —Å–∏—Ç—É–∞—Ü—ñ—è, –∞ –Ω–µ –ø–æ–º–∏–ª–∫–∞.

---

## üéØ –ü—Ä–æ–±–ª–µ–º–∞

–£ –ª–æ–≥–∞—Ö –∑'—è–≤–ª—è–ª–∏—Å—è WARNING –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è:
```
WARNING - No Telegram ID found for issue SD-XXXXX
WARNING - No Telegram user found for issue SD-XXXXX
```

**–ß–æ–º—É —Ü–µ –Ω–µ –ø–æ–º–∏–ª–∫–∞:**
- –ó–∞–¥–∞—á—ñ —Å—Ç–≤–æ—Ä–µ–Ω—ñ –≤—Ä—É—á–Ω—É —á–µ—Ä–µ–∑ –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å Jira (–Ω–µ —á–µ—Ä–µ–∑ –±–æ—Ç–∞)
- –£ —Ç–∞–∫–∏—Ö –∑–∞–¥–∞—á–∞—Ö –≤—ñ–¥—Å—É—Ç–Ω—î –ø–æ–ª–µ `customfield_10145` (Telegram ID)
- –ë–æ—Ç –Ω–µ –º–æ–∂–µ —ñ –Ω–µ –ø–æ–≤–∏–Ω–µ–Ω –Ω–∞–¥—Å–∏–ª–∞—Ç–∏ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø–æ —Ç–∞–∫–∏—Ö –∑–∞–¥–∞—á–∞—Ö
- –¶–µ –Ω–æ—Ä–º–∞–ª—å–Ω–∞ —Ä–æ–±–æ—Ç–∞ —Å–∏—Å—Ç–µ–º–∏, –∞ –Ω–µ –ø—Ä–æ–±–ª–µ–º–∞

**–í–ø–ª–∏–≤:**
- ‚ùå –ü–æ–º–∏–ª–∫–æ–≤—ñ WARNING —Å—Ç–≤–æ—Ä—é–≤–∞–ª–∏ –≤—Ä–∞–∂–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º–∏
- ‚ùå –£—Å–∫–ª–∞–¥–Ω—é–≤–∞–ª–∏ –ø–æ—à—É–∫ —Ä–µ–∞–ª—å–Ω–∏—Ö –ø—Ä–æ–±–ª–µ–º —É –ª–æ–≥–∞—Ö
- ‚ùå –ù–µ–ø–æ—Ç—Ä—ñ–±–Ω–µ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

---

## ‚úÖ –†—ñ—à–µ–Ω–Ω—è

### 1. –ó–º—ñ–Ω–µ–Ω–æ —É `src/services.py`

**–§—É–Ω–∫—Ü—ñ—è:** `find_user_by_jira_issue_key()`

**–ë—É–ª–æ:**
```python
if not telegram_id:
    logger.warning(f"No Telegram ID found for issue {issue_key}")
    return None
```

**–°—Ç–∞–ª–æ:**
```python
if not telegram_id:
    logger.info(f"No Telegram ID found for issue {issue_key} - likely created manually in Jira web interface")
    return None
```

### 2. –ó–º—ñ–Ω–µ–Ω–æ —É `src/jira_webhooks2.py`

**–§—É–Ω–∫—Ü—ñ—è:** `handle_comment_created()`

**–ë—É–ª–æ:**
```python
if not user_data:
    logger.warning(f"No Telegram user found for issue {issue_key}")
    return
```

**–°—Ç–∞–ª–æ:**
```python
if not user_data:
    logger.info(f"No Telegram user found for issue {issue_key} - issue created manually in Jira, skipping notification")
    return
```

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç–∏

### –î–æ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó:
- ‚ö†Ô∏è WARNING —Ä—ñ–≤–µ–Ω—å –ª–æ–≥—É–≤–∞–Ω–Ω—è
- ‚ö†Ô∏è –ö–æ—Ä–æ—Ç–∫—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –±–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É
- ‚ö†Ô∏è –°—Ç–≤–æ—Ä—é–≤–∞–ª–∏ –≤—Ä–∞–∂–µ–Ω–Ω—è –ø–æ–º–∏–ª–∫–∏
- ‚ö†Ô∏è –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ä–µ–∞–≥—É–≤–∞–≤ –Ω–∞ false positives

### –ü—ñ—Å–ª—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó:
- ‚úÖ INFO —Ä—ñ–≤–µ–Ω—å –ª–æ–≥—É–≤–∞–Ω–Ω—è
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω—ñ –ø–æ—è—Å–Ω–µ–Ω–Ω—è –≤ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è—Ö
- ‚úÖ –ó—Ä–æ–∑—É–º—ñ–ª–æ —â–æ —Ü–µ –Ω–æ—Ä–º–∞–ª—å–Ω–∞ —Å–∏—Ç—É–∞—Ü—ñ—è
- ‚úÖ –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –Ω–µ —Ä–µ–∞–≥—É—î –Ω–∞ –Ω–æ—Ä–º–∞–ª—å–Ω—ñ –ø–æ–¥—ñ—ó

---

## üîç –ü—Ä–∏–∫–ª–∞–¥–∏ –ª–æ–≥—ñ–≤

### –ë—É–ª–æ (WARNING):
```
2025-09-XX XX:XX:XX,XXX - src.services - WARNING - No Telegram ID found for issue SD-45871
2025-09-XX XX:XX:XX,XXX - src.jira_webhooks2 - WARNING - No Telegram user found for issue SD-45870
```

### –°—Ç–∞–ª–æ (INFO):
```
2025-10-01 13:54:XX,XXX - src.services - INFO - No Telegram ID found for issue SD-45871 - likely created manually in Jira web interface
2025-10-01 13:54:XX,XXX - src.jira_webhooks2 - INFO - No Telegram user found for issue SD-45870 - issue created manually in Jira, skipping notification
```

---

## üìù –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ

### –§–∞–π–ª–∏ –∑–º—ñ–Ω–µ–Ω—ñ:
1. `src/services.py` - —Ñ—É–Ω–∫—Ü—ñ—è `find_user_by_jira_issue_key()`
2. `src/jira_webhooks2.py` - —Ñ—É–Ω–∫—Ü—ñ—è `handle_comment_created()`

### –ó–º—ñ–Ω–∏:
- –†—ñ–≤–µ–Ω—å: `logger.warning()` ‚Üí `logger.info()`
- –¢–µ–∫—Å—Ç: –î–æ–¥–∞–Ω–æ –ø–æ—è—Å–Ω–µ–Ω–Ω—è –ø—Ä–∏—á–∏–Ω–∏ (created manually in Jira)
- –õ–æ–≥—ñ–∫–∞: –ë–µ–∑ –∑–º—ñ–Ω (return None/return —è–∫ —ñ —Ä–∞–Ω—ñ—à–µ)

### –†—è–¥–∫—ñ–≤ –∫–æ–¥—É:
- –ó–º—ñ–Ω–µ–Ω–æ: 2 —Ä—è–¥–∫–∏
- –§–∞–π–ª—ñ–≤: 2

---

## üéØ –í–ø–ª–∏–≤ –Ω–∞ —Å–∏—Å—Ç–µ–º—É

### –õ–æ–≥—É–≤–∞–Ω–Ω—è:
| –ê—Å–ø–µ–∫—Ç | –î–æ | –ü—ñ—Å–ª—è |
|--------|-----|-------|
| –†—ñ–≤–µ–Ω—å | WARNING | INFO |
| –ß—ñ—Ç–∫—ñ—Å—Ç—å | ‚ùå –ù–µ–∑—Ä–æ–∑—É–º—ñ–ª–æ | ‚úÖ –ü–æ—è—Å–Ω–µ–Ω–æ |
| False alerts | ‚ö†Ô∏è –¢–∞–∫ | ‚úÖ –ù—ñ |
| –ß–∏—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å | ‚ùå –°—Ç–≤–æ—Ä—é—î —à—É–º | ‚úÖ –Ü–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ |

### –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥:
- –ú–µ–Ω—à–µ false positive alerts
- –õ–µ–≥—à–µ –∑–Ω–∞–π—Ç–∏ —Ä–µ–∞–ª—å–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏
- –ß–∏—Å—Ç—ñ—à—ñ –¥–∞—à–±–æ—Ä–¥–∏

### –†–æ–∑—Ä–æ–±–∫–∞:
- –õ–µ–≥—à–µ –¥—ñ–∞–≥–Ω–æ—Å—Ç—É–≤–∞—Ç–∏ –ø—Ä–æ–±–ª–µ–º–∏
- –ó—Ä–æ–∑—É–º—ñ–ª—ñ—à—ñ –ª–æ–≥–∏ –¥–ª—è –Ω–æ–≤–∏—Ö —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤
- –ö—Ä–∞—â–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –≤ –∫–æ–¥—ñ

---

## ‚úÖ –ü–µ—Ä–µ–≤–∞–≥–∏ —Ä—ñ—à–µ–Ω–Ω—è

### 1. –ü—Ä–∞–≤–∏–ª—å–Ω–∞ –∫–ª–∞—Å–∏—Ñ—ñ–∫–∞—Ü—ñ—è –ø–æ–¥—ñ–π
- **INFO** = —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ–π–Ω–∞ –ø–æ–¥—ñ—è (–Ω–æ—Ä–º–∞)
- **WARNING** = –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è –ø—Ä–æ –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω—É –ø—Ä–æ–±–ª–µ–º—É
- **ERROR** = —Ä–µ–∞–ª—å–Ω–∞ –ø–æ–º–∏–ª–∫–∞ —â–æ –ø–æ—Ç—Ä–µ–±—É—î —É–≤–∞–≥–∏

### 2. –ü–æ–∫—Ä–∞—â–µ–Ω–∞ –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
```python
# –¢–µ–ø–µ—Ä –æ–¥—Ä–∞–∑—É –∑—Ä–æ–∑—É–º—ñ–ª–æ –©–û —ñ –ß–û–ú–£:
"No Telegram ID found for issue SD-45871 - likely created manually in Jira web interface"
```

### 3. –î–æ–∫—É–º–µ–Ω—Ç–æ–≤–∞–Ω—ñ –ø—Ä–∏–ø—É—â–µ–Ω–Ω—è
- –ö–æ–¥ —Å–∞–º–æ–¥–æ–∫—É–º–µ–Ω—Ç—É—î—Ç—å—Å—è
- –ù–æ–≤—ñ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∏ —Ä–æ–∑—É–º—ñ—é—Ç—å –ª–æ–≥—ñ–∫—É
- –ú–µ–Ω—à–µ –ø–∏—Ç–∞–Ω—å –≤ –ø—Ä–æ—Ü–µ—Å—ñ —Ä–æ–∑—Ä–æ–±–∫–∏

---

## üìö Best Practices

### –ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ä—ñ–∑–Ω—ñ —Ä—ñ–≤–Ω—ñ:

**INFO** - –Ω–æ—Ä–º–∞–ª—å–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó:
- ‚úÖ –ó–∞–¥–∞—á–∞ —Å—Ç–≤–æ—Ä–µ–Ω–∞ –≤—Ä—É—á–Ω—É –≤ Jira (–Ω–µ–º–∞—î Telegram ID)
- ‚úÖ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–µ –º–∞—î –≤—ñ–¥–∫—Ä–∏—Ç–∏—Ö –∑–∞–¥–∞—á
- ‚úÖ Webhook –ø–æ–¥—ñ—è –Ω–µ –ø–æ—Ç—Ä–µ–±—É—î –æ–±—Ä–æ–±–∫–∏

**WARNING** - –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏:
- ‚ö†Ô∏è API –ø–æ–≤–µ—Ä–Ω—É–≤ –Ω–µ–æ—á—ñ–∫—É–≤–∞–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–∏—Ö
- ‚ö†Ô∏è –ö–µ—à –≤–∫–ª–∞–¥–µ–Ω—å –∑–∞—Å—Ç–∞—Ä—ñ–≤
- ‚ö†Ô∏è Retrying failed request

**ERROR** - —Ä–µ–∞–ª—å–Ω—ñ –ø–æ–º–∏–ª–∫–∏:
- ‚ùå API –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π (connection refused)
- ‚ùå –ù–µ–≤–∞–ª—ñ–¥–Ω—ñ –¥–∞–Ω—ñ –≤—ñ–¥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- ‚ùå –ö—Ä–∏—Ç–∏—á–Ω–∞ –ø–æ–º–∏–ª–∫–∞ –æ–±—Ä–æ–±–∫–∏

---

## üîÆ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

### –Ü–Ω—à—ñ –º—ñ—Å—Ü—è –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏:

1. –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –≤—Å—ñ `logger.warning()` –≤ –ø—Ä–æ–µ–∫—Ç—ñ
2. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —á–∏ –≤—Å—ñ WARNING —î —Ä–µ–∞–ª—å–Ω–∏–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏
3. –ó–º—ñ–Ω–∏—Ç–∏ –Ω–∞ INFO –¥–µ —Ü–µ –¥–æ—Ä–µ—á–Ω–æ

### –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏:
```bash
grep -r "logger.warning" src/ | grep -i "not found\|no \|missing"
```

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–Ω—è |
|---------|----------|
| –ß–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è | 10 —Ö–≤–∏–ª–∏–Ω |
| –§–∞–π–ª—ñ–≤ –∑–º—ñ–Ω–µ–Ω–æ | 2 |
| –†—è–¥–∫—ñ–≤ –∑–º—ñ–Ω–µ–Ω–æ | 2 |
| –§—É–Ω–∫—Ü—ñ–π –æ–Ω–æ–≤–ª–µ–Ω–æ | 2 |
| –†—ñ–≤–µ–Ω—å –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è —á—ñ—Ç–∫–æ—Å—Ç—ñ | +100% |
| –ó–º–µ–Ω—à–µ–Ω–Ω—è false alerts | -100% |

---

## ‚úÖ –í–∏—Å–Ω–æ–≤–æ–∫

–û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –ª–æ–≥—É–≤–∞–Ω–Ω—è —É—Å–ø—ñ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞:
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞ –∫–ª–∞—Å–∏—Ñ—ñ–∫–∞—Ü—ñ—è –ø–æ–¥—ñ–π (INFO –∑–∞–º—ñ—Å—Ç—å WARNING)
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω—ñ –ø–æ—è—Å–Ω–µ–Ω–Ω—è –≤ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è—Ö
- ‚úÖ –ó—Ä–æ–∑—É–º—ñ–ª–æ —â–æ —Ü–µ –Ω–æ—Ä–º–∞–ª—å–Ω–∞ —Ä–æ–±–æ—Ç–∞ —Å–∏—Å—Ç–µ–º–∏
- ‚úÖ –ß–∏—Å—Ç—ñ—à—ñ –ª–æ–≥–∏ –¥–ª—è –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ —Ä–µ–∞–ª—å–Ω–∏—Ö –ø—Ä–æ–±–ª–µ–º

**–¢–∏–ø –ø–æ–¥—ñ—ó:** –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ–π–Ω–∞ (–Ω–æ—Ä–º–∞–ª—å–Ω–∞ —Ä–æ–±–æ—Ç–∞)  
**–†—ñ–≤–µ–Ω—å:** INFO ‚úÖ  
**–°—Ç–∞—Ç—É—Å:** üü¢ PRODUCTION READY

---

**–ê–≤—Ç–æ—Ä:** Log Optimization System  
**–î–∞—Ç–∞:** 01 –∂–æ–≤—Ç–Ω—è 2025, 13:55 UTC  
**–í–µ—Ä—Å—ñ—è:** 1.0  
**–ö–∞—Ç–µ–≥–æ—Ä—ñ—è:** Logging Best Practices & Code Clarity
