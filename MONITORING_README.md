# üîß –°–∏—Å—Ç–µ–º–∞ –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É Telegram –ë–æ—Ç–∞

## üìã –û–ø–∏—Å

–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É, —è–∫–∞ –∑–∞–±–µ–∑–ø–µ—á—É—î –±–µ–∑–ø–µ—Ä–µ—Ä–≤–Ω—É —Ä–æ–±–æ—Ç—É Telegram –±–æ—Ç–∞ –∑ –Ω–∞—Å—Ç—É–ø–Ω–∏–º–∏ –º–æ–∂–ª–∏–≤–æ—Å—Ç—è–º–∏:

- üîç **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞** —Å—Ç–∞–Ω—É –±–æ—Ç–∞ –∫–æ–∂–Ω—ñ 15 —Ö–≤–∏–ª–∏–Ω
- üîÑ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫** –ø—Ä–∏ –≤—ñ–¥–º–æ–≤—ñ –±–æ—Ç–∞
- üêç **–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞** Python
- üñ•Ô∏è **–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞** –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –ø–æ–º–∏–ª–∫–∞—Ö
- üìä **–î–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è** –≤—Å—ñ—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π
- üöÄ **–ê–≤—Ç–æ–∑–∞–ø—É—Å–∫** –ø—ñ—Å–ª—è –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å–µ—Ä–≤–µ—Ä–∞

## üìÅ –§–∞–π–ª–∏ –°–∏—Å—Ç–µ–º–∏

- `monitor_bot.sh` - –û—Å–Ω–æ–≤–Ω–∏–π —Å–∫—Ä–∏–ø—Ç –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É
- `setup_monitoring.sh` - –°–∫—Ä–∏–ø—Ç –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏
- `monitor_control.sh` - –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è
- `bot-monitor.service` - Systemd —Å–µ—Ä–≤—ñ—Å
- `logs/monitor.log` - –õ–æ–≥–∏ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É

## üöÄ –®–≤–∏–¥–∫–∏–π –°—Ç–∞—Ä—Ç

### 1. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏:
```bash
sudo ./setup_monitoring.sh
```

### 2. –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —á–µ—Ä–µ–∑ –º–µ–Ω—é:
```bash
sudo ./monitor_control.sh
```

## üìã –û—Å–Ω–æ–≤–Ω—ñ –ö–æ–º–∞–Ω–¥–∏

### –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å–µ—Ä–≤—ñ—Å–æ–º:
```bash
# –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤—ñ—Å—É
systemctl status bot-monitor

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
systemctl restart bot-monitor

# –ó—É–ø–∏–Ω–∫–∞
systemctl stop bot-monitor

# –õ–æ–≥–∏ systemd
journalctl -u bot-monitor -f
```

### –ü—Ä—è–º—ñ –∫–æ–º–∞–Ω–¥–∏ —Å–∫—Ä–∏–ø—Ç–∞:
```bash
# –°—Ç–∞—Ç—É—Å –±–æ—Ç–∞
./monitor_bot.sh status

# –û–¥–Ω–æ—Ä–∞–∑–æ–≤–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞
./monitor_bot.sh check

# –†—É—á–Ω–∏–π –∑–∞–ø—É—Å–∫ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É
./monitor_bot.sh start
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

### –û—Å–Ω–æ–≤–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –≤ `monitor_bot.sh`:
- `CHECK_INTERVAL=900` - –Ü–Ω—Ç–µ—Ä–≤–∞–ª –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ (15 —Ö–≤–∏–ª–∏–Ω)
- `MAX_RESTART_ATTEMPTS=3` - –ú–∞–∫—Å–∏–º—É–º —Å–ø—Ä–æ–± –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É
- `RESTART_COOLDOWN=60` - –ü–∞—É–∑–∞ –º—ñ–∂ —Å–ø—Ä–æ–±–∞–º–∏
- `BOT_DIR="/home/Bot1"` - –î–∏—Ä–µ–∫—Ç–æ—Ä—ñ—è –±–æ—Ç–∞
- `VENV_PATH="$BOT_DIR/venv"` - –®–ª—è—Ö –¥–æ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

## üîç –õ–æ–≥—ñ–∫–∞ –†–æ–±–æ—Ç–∏

### –ê–ª–≥–æ—Ä–∏—Ç–º –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏:
1. **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—Ä–æ—Ü–µ—Å—É** - —á–∏ –ø—Ä–∞—Ü—é—î –±–æ—Ç
2. **–ü–µ—Ä—à–∞ —Å–ø—Ä–æ–±–∞** - —á–µ–∫–∞—Ç–∏ 1 —Ö–≤–∏–ª–∏–Ω—É, –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∑–Ω–æ–≤—É
3. **–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞** - –¥–æ 3 —Å–ø—Ä–æ–± –∑ –ø–∞—É–∑–∞–º–∏
4. **–ö—Ä–∏—Ç–∏—á–Ω–∞ –ø–æ–º–∏–ª–∫–∞** - –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
5. **–ù–∞—Å—Ç—É–ø–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞** - —á–µ—Ä–µ–∑ 15 —Ö–≤–∏–ª–∏–Ω

### –í—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –∞–∫—Ç–∏–≤–∞—Ü—ñ—è venv –ø—Ä–∏ –∑–∞–ø—É—Å–∫—É
- –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ Python —ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞

## üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º–∏:
```bash
# –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ç—É—Å
./monitor_bot.sh status

# –î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è
systemctl status bot-monitor

# –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–µ –º–µ–Ω—é
sudo ./monitor_control.sh
```

### –õ–æ–≥–∏ –¥–ª—è –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:
```bash
# –õ–æ–≥–∏ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É
tail -f logs/monitor.log

# –õ–æ–≥–∏ systemd
journalctl -u bot-monitor -f

# –õ–æ–≥–∏ –±–æ—Ç–∞
tail -f logs/bot_*.log
```

## üõ°Ô∏è –ë–µ–∑–ø–µ–∫–∞ —Ç–∞ –ù–∞–¥—ñ–π–Ω—ñ—Å—Ç—å

### –ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ –∑–±–æ—ó–≤:
- –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫—É
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è PID —Ñ–∞–π–ª—ñ–≤
- –ü—Ä–∏–º—É—Å–æ–≤–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∑–∞–≤–∏—Å—à–∏—Ö –ø—Ä–æ—Ü–µ—Å—ñ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ—á–∏—â–µ–Ω–Ω—è –Ω–µ–∞–∫—Ç—É–∞–ª—å–Ω–∏—Ö PID

### –°–∏—Å—Ç–µ–º–Ω–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è:
- –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ systemd
- –†–æ–±–æ—Ç–∞ –∑ –ø—Ä–∞–≤–∞–º–∏ root –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π
- –Ü–∑–æ–ª—è—Ü—ñ—è –ø—Ä–æ—Ü–µ—Å—ñ–≤ —Ç–∞ –±–µ–∑–ø–µ—á–Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è

## üîß –£—Å—É–Ω–µ–Ω–Ω—è –ù–µ–ø–æ–ª–∞–¥–æ–∫

### –ß–∞—Å—Ç—ñ –ø—Ä–æ–±–ª–µ–º–∏:

**–ë–æ—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è:**
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ
ls -la /home/Bot1/venv/

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
cd /home/Bot1 && source venv/bin/activate && pip list
```

**–°–µ—Ä–≤—ñ—Å –Ω–µ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è:**
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ª–æ–≥–∏
journalctl -u bot-monitor

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø—Ä–∞–≤–∞
ls -la /home/Bot1/monitor_bot.sh
```

**–ú–æ–Ω—ñ—Ç–æ—Ä –Ω–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—î –±–æ—Ç–∞:**
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ª–æ–≥–∏ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É
tail -20 logs/monitor.log

# –†—É—á–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞
./monitor_bot.sh check
```

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

–°–∏—Å—Ç–µ–º–∞ –≤–µ–¥–µ –æ–±–ª—ñ–∫:
- ‚úÖ –£—Å–ø—ñ—à–Ω–∏—Ö –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫
- üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫—ñ–≤ –±–æ—Ç–∞
- ‚ö†Ô∏è –ü–æ–º–∏–ª–æ–∫ –∑–∞–ø—É—Å–∫—É
- üñ•Ô∏è –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫—ñ–≤ —Å–µ—Ä–≤–µ—Ä–∞
- ‚è±Ô∏è –ß–∞—Å—É —Ä–æ–±–æ—Ç–∏

## üéõÔ∏è –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è

### –î–ª—è —à–≤–∏–¥–∫–æ–≥–æ –¥–æ—Å—Ç—É–ø—É –¥–æ–¥–∞–π—Ç–µ –∞–ª—ñ–∞—Å–∏:
```bash
echo 'alias botmon="sudo /home/Bot1/monitor_control.sh"' >> ~/.bashrc
echo 'alias botstatus="/home/Bot1/monitor_bot.sh status"' >> ~/.bashrc
source ~/.bashrc
```

### –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:
```bash
# –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–µ –º–µ–Ω—é
botmon

# –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ç—É—Å
botstatus
```
