# üóÇÔ∏è –°–∏—Å—Ç–µ–º–∞ –±–µ–∫–∞–ø—ñ–≤ Bot1

**–û–Ω–æ–≤–ª–µ–Ω–æ:** 2025-09-09  
**–ü—Ä–æ–µ–∫—Ç:** Bot1 Telegram Bot with Jira Integration  

## üìã –û–≥–ª—è–¥

–¶—è –ø–∞–ø–∫–∞ –º—ñ—Å—Ç–∏—Ç—å —Å–∏—Å—Ç–µ–º—É —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –±–µ–∑–ø–µ—á–Ω–∏—Ö –±–µ–∫–∞–ø—ñ–≤ –ø—Ä–æ–µ–∫—Ç—É Bot1. –°–∏—Å—Ç–µ–º–∞ –∑–∞–±–µ–∑–ø–µ—á—É—î —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∞—Ä—Ö—ñ–≤—ñ–≤ –ø—Ä–æ–µ–∫—Ç—É –±–µ–∑ –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó —Ç–∞ –ª–æ–≥—ñ–≤, —â–æ —Ä–æ–±–∏—Ç—å —ó—Ö –±–µ–∑–ø–µ—á–Ω–∏–º–∏ –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Ç–∞ –ø–µ—Ä–µ–¥–∞—á—ñ.

## üìÅ –§–∞–π–ª–∏ –≤ –ø–∞–ø—Ü—ñ

### `create_secure_backup.sh`
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –û—Å–Ω–æ–≤–Ω–∏–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –±–µ–∑–ø–µ—á–Ω–∏—Ö –±–µ–∫–∞–ø—ñ–≤  
**–¢–∏–ø:** –í–∏–∫–æ–Ω—É–≤–∞–Ω–∏–π bash-—Å–∫—Ä–∏–ø—Ç  
**–†–æ–∑–º—ñ—Ä:** ~8KB  

### `Bot1_secure_backup_YYYYMMDD_HHMMSS.tar.gz`
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –ê—Ä—Ö—ñ–≤–∏ –±–µ–∑–ø–µ—á–Ω–∏—Ö –±–µ–∫–∞–ø—ñ–≤  
**–§–æ—Ä–º–∞—Ç:** Gzip-—Å—Ç–∏—Å–ª–∏–π tar –∞—Ä—Ö—ñ–≤  
**–ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞:** –î–∞—Ç–∞ —Ç–∞ —á–∞—Å —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤ —Ñ–æ—Ä–º–∞—Ç—ñ ISO  

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –±–µ–∫–∞–ø—É
```bash
cd /home/Bot1/backups
./create_secure_backup.sh
```

### –ü–µ—Ä–µ–≥–ª—è–¥ —Å–ø–∏—Å–∫—É –±–µ–∫–∞–ø—ñ–≤
```bash
cd /home/Bot1/backups
ls -lh *.tar.gz
```

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–º—ñ—Å—Ç—É –±–µ–∫–∞–ø—É
```bash
cd /home/Bot1/backups
tar -tzf Bot1_secure_backup_YYYYMMDD_HHMMSS.tar.gz | head -20
```

## üîí –ë–µ–∑–ø–µ–∫–∞ –±–µ–∫–∞–ø—ñ–≤

### ‚úÖ –©–æ –í–ö–õ–Æ–ß–ê–Ñ–¢–¨–°–Ø –≤ –±–µ–∫–∞–ø:
- **–í–∏—Ö—ñ–¥–Ω–∏–π –∫–æ–¥:** `src/`, `utils/`, `Tests/`
- **–°–∫—Ä–∏–ø—Ç–∏:** `scripts/` (–±–µ–∑ –ª–æ–≥—ñ–≤), `monitoring/` (–±–µ–∑ –ª–æ–≥—ñ–≤)
- **–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è:** –ü—É–±–ª—ñ—á–Ω—ñ —Ñ–∞–π–ª–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è:** `reports/`, `*.md` —Ñ–∞–π–ª–∏
- **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:** `pyproject.toml`, `requirements.txt`, `.vscode/`
- **–®–∞–±–ª–æ–Ω–∏:** `config/credentials.env.template`
- **–†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è:** `deployment/`

### ‚ùå –©–æ –í–ò–ö–õ–Æ–ß–ê–Ñ–¢–¨–°–Ø –∑ –±–µ–∫–∞–ø—É:
- **–ö–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω—ñ –¥–∞–Ω—ñ:**
  - `config/credentials.env` (—Ä–µ–∞–ª—å–Ω—ñ —Ç–æ–∫–µ–Ω–∏)
  - `config/service_account.json` (–∫–ª—é—á—ñ Google)
  - `config/field_values.json` (–º–æ–∂—É—Ç—å –º—ñ—Å—Ç–∏—Ç–∏ –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é)
  
- **–õ–æ–≥–∏ —Ç–∞ —Ç–∏–º—á–∞—Å–æ–≤—ñ —Ñ–∞–π–ª–∏:**
  - `logs/` (–≤—Å—ñ —Å–∏—Å—Ç–µ–º–Ω—ñ –ª–æ–≥–∏)
  - `scripts/logs/` (–ª–æ–≥–∏ —Å–∫—Ä–∏–ø—Ç—ñ–≤)
  - `monitoring/logs/` (–ª–æ–≥–∏ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É)
  - `*.log` (–≤—Å—ñ –ª–æ–≥ —Ñ–∞–π–ª–∏)
  - `*.pid` (PID —Ñ–∞–π–ª–∏ –ø—Ä–æ—Ü–µ—Å—ñ–≤)
  
- **–†–æ–±–æ—á—ñ –¥–∞–Ω—ñ:**
  - `user_states/` (—Å—Ç–∞–Ω–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤)
  - `data/` (—Ä–æ–±–æ—á—ñ –¥–∞–Ω—ñ)
  - `venv/` (–≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ)
  - `__pycache__/` (–∫–µ—à Python)
  - `.git/` (Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π)
  - `backups/` (–ø–æ–ø–µ—Ä–µ–¥–Ω—ñ –±–µ–∫–∞–ø–∏)

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–µ–∫–∞–ø—ñ–≤

### –¢–∏–ø–æ–≤–∏–π —Ä–æ–∑–º—ñ—Ä –±–µ–∫–∞–ø—É: ~484KB
### –ö—ñ–ª—å–∫—ñ—Å—Ç—å —Ñ–∞–π–ª—ñ–≤: ~209
### –ß–∞—Å —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è: ~1-2 —Å–µ–∫—É–Ω–¥–∏

## üîß –í—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –∑ –±–µ–∫–∞–ø—É

### 1. –†–æ–∑–ø–∞–∫—É–≤–∞–Ω–Ω—è
```bash
# –°—Ç–≤–æ—Ä–∏—Ç–∏ –ø–∞–ø–∫—É –¥–ª—è –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è
mkdir /tmp/bot1_restore
cd /tmp/bot1_restore

# –†–æ–∑–ø–∞–∫—É–≤–∞—Ç–∏ –±–µ–∫–∞–ø
tar -xzf /path/to/Bot1_secure_backup_YYYYMMDD_HHMMSS.tar.gz
```

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤
```bash
cd Bot1_secure_backup_YYYYMMDD_HHMMSS

# –°—Ç–≤–æ—Ä–∏—Ç–∏ –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω—ñ —Ñ–∞–π–ª–∏ –∑ —à–∞–±–ª–æ–Ω—ñ–≤
cp config/credentials.env.template config/credentials.env

# –ó–∞–ø–æ–≤–Ω–∏—Ç–∏ —Ä–µ–∞–ª—å–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –≤ credentials.env:
# BOT_TOKEN=your_bot_token_here
# JIRA_URL=your_jira_url
# JIRA_USERNAME=your_username
# JIRA_API_TOKEN=your_api_token
```

### 3. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
```bash
# –°—Ç–≤–æ—Ä–∏—Ç–∏ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ
python -m venv venv

# –ê–∫—Ç–∏–≤—É–≤–∞—Ç–∏ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ
source venv/bin/activate  # Linux/Mac
# –∞–±–æ
venv\Scripts\activate     # Windows

# –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
pip install -r requirements.txt
```

### 4. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ä–æ–±–æ—á–∏—Ö –ø–∞–ø–æ–∫
```bash
# –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –ø–∞–ø–∫–∏
mkdir -p logs data user_states

# –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É
chmod 755 logs data user_states
```

### 5. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é
python -c "from config.config import load_config; print('Config OK')"

# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Ç–µ—Å—Ç–∏ (—è–∫—â–æ —î)
python -m pytest Tests/ -v
```

## üõ†Ô∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–∫—Ä–∏–ø—Ç–∞

### –ó–º—ñ–Ω–∏—Ç–∏ —à–ª—è—Ö –ø—Ä–æ–µ–∫—Ç—É
–í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ –∑–º—ñ–Ω–Ω—É `PROJECT_DIR` –≤ `create_secure_backup.sh`:
```bash
PROJECT_DIR="/your/custom/path"
```

### –î–æ–¥–∞—Ç–∏ –≤–∏–∫–ª—é—á–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤
–í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ —Å–µ–∫—Ü—ñ—é –≤–∏–∫–ª—é—á–µ–Ω—å —É —Å–∫—Ä–∏–ø—Ç—ñ:
```bash
# –î–æ–¥–∞—Ç–∏ –Ω–æ–≤—ñ —à–∞–±–ª–æ–Ω–∏ –≤–∏–∫–ª—é—á–µ–Ω—å
-not -name "*.custom_extension"
-not -path "*/custom_folder/*"
```

### –ó–º—ñ–Ω–∏—Ç–∏ –ø–∞–ø–∫—É –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è
–í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ –∑–º—ñ–Ω–Ω—É `BACKUP_DIR`:
```bash
BACKUP_DIR="/your/custom/backup/path"
```

## üìà –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ä–µ–≥—É–ª—è—Ä–Ω–∏—Ö –±–µ–∫–∞–ø—ñ–≤
–î–æ–¥–∞–π—Ç–µ –¥–æ crontab –¥–ª—è —â–æ–¥–µ–Ω–Ω–∏—Ö –±–µ–∫–∞–ø—ñ–≤:
```bash
# –†–µ–¥–∞–≥—É–≤–∞—Ç–∏ crontab
crontab -e

# –î–æ–¥–∞—Ç–∏ —Ä—è–¥–æ–∫ –¥–ª—è —â–æ–¥–µ–Ω–Ω–æ–≥–æ –±–µ–∫–∞–ø—É –æ 2:00
0 2 * * * /home/Bot1/backups/create_secure_backup.sh >/dev/null 2>&1
```

### –û—á–∏—â–µ–Ω–Ω—è —Å—Ç–∞—Ä–∏—Ö –±–µ–∫–∞–ø—ñ–≤
–°—Ç–≤–æ—Ä—ñ—Ç—å —Å–∫—Ä–∏–ø—Ç –æ—á–∏—â–µ–Ω–Ω—è —Å—Ç–∞—Ä–∏—Ö –±–µ–∫–∞–ø—ñ–≤ (–∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –æ—Å—Ç–∞–Ω–Ω—ñ 7):
```bash
cd /home/Bot1/backups
ls -t *.tar.gz | tail -n +8 | xargs rm -f
```

## üîç –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ü—ñ–ª—ñ—Å–Ω–æ—Å—Ç—ñ

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∞—Ä—Ö—ñ–≤—É
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ü—ñ–ª—ñ—Å–Ω—ñ—Å—Ç—å –∞—Ä—Ö—ñ–≤—É
tar -tzf backup_file.tar.gz >/dev/null && echo "OK" || echo "CORRUPTED"

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –∫–ª—é—á–æ–≤–∏—Ö —Ñ–∞–π–ª—ñ–≤
tar -tzf backup_file.tar.gz | grep -E "(src/|config/|requirements.txt)"
```

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –±–µ–∑–ø–µ–∫–∏
```bash
# –ü–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—è, —â–æ –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω—ñ —Ñ–∞–π–ª–∏ –≤—ñ–¥—Å—É—Ç–Ω—ñ
tar -tzf backup_file.tar.gz | grep -E "(credentials\.env$|service_account\.json|\.log$)" && echo "SECURITY ISSUE" || echo "SECURE"
```

## üìû –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

### –ß–∞—Å—Ç—ñ –ø—Ä–æ–±–ª–µ–º–∏

**–ü—Ä–æ–±–ª–µ–º–∞:** `Permission denied`  
**–†—ñ—à–µ–Ω–Ω—è:** –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —Å–∫—Ä–∏–ø—Ç –º–∞—î –ø—Ä–∞–≤–∞ –Ω–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è: `chmod +x create_secure_backup.sh`

**–ü—Ä–æ–±–ª–µ–º–∞:** –ê—Ä—Ö—ñ–≤ –∑–∞–Ω–∞–¥—Ç–æ –≤–µ–ª–∏–∫–∏–π  
**–†—ñ—à–µ–Ω–Ω—è:** –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ –≤—Å—ñ –≤–µ–ª–∏–∫—ñ —Ñ–∞–π–ª–∏ (–ª–æ–≥–∏, venv) –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤–∏–∫–ª—é—á–µ–Ω—ñ

**–ü—Ä–æ–±–ª–µ–º–∞:** –í—ñ–¥—Å—É—Ç–Ω—ñ —Ñ–∞–π–ª–∏ –ø—ñ—Å–ª—è –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è  
**–†—ñ—à–µ–Ω–Ω—è:** –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —à–ª—è—Ö–∏ —É —Å–∫—Ä–∏–ø—Ç—ñ —Ç–∞ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É –¥–æ —Ñ–∞–π–ª—ñ–≤

### –õ–æ–≥—É–≤–∞–Ω–Ω—è
–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ª–æ–≥—É—î –≤—Å—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó. –î–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ—ó –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∑–∞–ø—É—Å—Ç—ñ—Ç—å:
```bash
bash -x ./create_secure_backup.sh
```

---

**–ê–≤—Ç–æ—Ä:** GitHub Copilot  
**–ü—Ä–æ–µ–∫—Ç:** Bot1 Telegram Bot with Jira Integration  
**–†–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π:** euromixtgbot/bot1  
**–í–µ—Ä—Å—ñ—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó:** 1.0  
**–î–∞—Ç–∞ –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è:** 2025-09-09
